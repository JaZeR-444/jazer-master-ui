<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double XP Active Indicator</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        h1 {
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 0.5rem;
            font-family: var(--font-primary);
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .back-button {
            display: inline-block;
            color: var(--jazer-cyan);
            text-decoration: none;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--jazer-cyan);
            background: rgba(6, 182, 212, 0.1);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: var(--jazer-cyan);
            color: var(--bg-dark);
            transform: translateX(-5px);
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
        }

        /* Control Panel */
        .control-panel {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(6, 182, 212, 0.1));
            border: 2px solid var(--jazer-purple);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.5rem;
        }

        .control-group label {
            display: block;
            color: var(--jazer-cyan);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .control-group select,
        .control-group input {
            width: 100%;
            padding: 0.75rem;
            border-radius: 8px;
            border: 2px solid var(--jazer-purple);
            background: rgba(0, 0, 0, 0.4);
            color: var(--text-light);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-group select:hover,
        .control-group input:hover {
            border-color: var(--jazer-cyan);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.3);
        }

        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: var(--jazer-pink);
        }

        /* Demo Area */
        .demo-area {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.6), rgba(147, 51, 234, 0.1));
            border: 2px solid var(--jazer-pink);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* XP Boost Badge */
        .xp-boost-badge {
            position: relative;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem 3rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .xp-boost-badge:hover {
            transform: scale(1.05);
        }

        /* Style Variations */
        .xp-boost-badge[data-style="neon"] {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 242, 234, 0.2));
            border: 3px solid #00ff88;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.4),
                        inset 0 0 30px rgba(0, 255, 136, 0.1);
        }

        .xp-boost-badge[data-style="fire"] {
            background: linear-gradient(135deg, rgba(255, 100, 0, 0.3), rgba(255, 200, 0, 0.2));
            border: 3px solid #ff6400;
            box-shadow: 0 0 30px rgba(255, 100, 0, 0.5),
                        inset 0 0 30px rgba(255, 100, 0, 0.1);
        }

        .xp-boost-badge[data-style="electric"] {
            background: linear-gradient(135deg, rgba(0, 200, 255, 0.2), rgba(147, 51, 234, 0.2));
            border: 3px solid #00c8ff;
            box-shadow: 0 0 30px rgba(0, 200, 255, 0.4),
                        inset 0 0 30px rgba(0, 200, 255, 0.1);
        }

        .xp-boost-badge[data-style="cosmic"] {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.3), rgba(255, 0, 110, 0.2));
            border: 3px solid #9333ea;
            box-shadow: 0 0 30px rgba(147, 51, 234, 0.5),
                        inset 0 0 30px rgba(147, 51, 234, 0.1);
        }

        .xp-boost-badge[data-style="gold"] {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 140, 0, 0.2));
            border: 3px solid #ffd700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5),
                        inset 0 0 30px rgba(255, 215, 0, 0.1);
        }

        /* Multiplier Icon */
        .multiplier-icon {
            position: relative;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .multiplier-circle {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid currentColor;
            animation: circlePulse 2s ease-in-out infinite;
        }

        .multiplier-circle:nth-child(2) {
            width: 120%;
            height: 120%;
            opacity: 0.5;
            animation-delay: 0.3s;
        }

        .multiplier-circle:nth-child(3) {
            width: 140%;
            height: 140%;
            opacity: 0.3;
            animation-delay: 0.6s;
        }

        @keyframes circlePulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .multiplier-value {
            font-family: var(--font-primary);
            font-size: 2.5rem;
            font-weight: 900;
            position: relative;
            z-index: 1;
            text-shadow: 0 0 20px currentColor;
        }

        .multiplier-x {
            font-size: 1.5rem;
            margin-left: 2px;
        }

        /* Badge Content */
        .badge-content {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .badge-label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
        }

        .badge-title {
            font-family: var(--font-primary);
            font-size: 1.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 15px currentColor;
        }

        .badge-timer {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .timer-icon {
            animation: timerPulse 1s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Animated Background */
        .badge-bg-effect {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            border-radius: 20px;
        }

        .bg-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: currentColor;
            opacity: 0.6;
            animation: floatUp 3s ease-in-out infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(100%) scale(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-100%) scale(1); opacity: 0; }
        }

        /* Color Classes */
        .xp-boost-badge[data-style="neon"] { color: #00ff88; }
        .xp-boost-badge[data-style="fire"] { color: #ff6400; }
        .xp-boost-badge[data-style="electric"] { color: #00c8ff; }
        .xp-boost-badge[data-style="cosmic"] { color: #9333ea; }
        .xp-boost-badge[data-style="gold"] { color: #ffd700; }

        /* Inactive State */
        .xp-boost-badge.inactive {
            filter: grayscale(1) opacity(0.5);
            animation: none;
        }

        .xp-boost-badge.inactive * {
            animation-play-state: paused;
        }

        /* Trigger Button */
        .trigger-btn {
            margin-top: 2rem;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, var(--jazer-cyan), var(--jazer-purple));
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 25px rgba(6, 182, 212, 0.4);
        }

        .trigger-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(6, 182, 212, 0.6);
        }

        .trigger-btn:active {
            transform: translateY(0);
        }

        /* XP Gain Display */
        .xp-gain-display {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 12px;
            border: 2px solid var(--jazer-cyan);
            text-align: center;
        }

        .xp-gain-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .xp-gain-value {
            font-family: var(--font-primary);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--jazer-cyan);
        }

        .xp-gain-bonus {
            font-size: 0.9rem;
            color: #00ff88;
            font-weight: 600;
        }

        /* Info Panel */
        .info-panel {
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.1), rgba(147, 51, 234, 0.1));
            border: 2px solid var(--jazer-cyan);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
        }

        .info-item {
            text-align: center;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .info-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--jazer-pink);
        }

        /* Showcase */
        .showcase {
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .showcase h3 {
            text-align: center;
            color: var(--jazer-cyan);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .boost-variants {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .boost-card {
            padding: 1.5rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .boost-card:hover {
            transform: translateY(-5px);
        }

        .boost-card[data-multiplier="2x"] {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 242, 234, 0.1));
            border: 2px solid #00ff88;
        }

        .boost-card[data-multiplier="3x"] {
            background: linear-gradient(135deg, rgba(255, 100, 0, 0.15), rgba(255, 200, 0, 0.1));
            border: 2px solid #ff6400;
        }

        .boost-card[data-multiplier="5x"] {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(255, 0, 110, 0.15));
            border: 2px solid #9333ea;
        }

        .boost-card[data-multiplier="10x"] {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 100, 0, 0.15));
            border: 2px solid #ffd700;
        }

        .boost-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .boost-card-multiplier {
            font-family: var(--font-primary);
            font-size: 2rem;
            font-weight: 900;
        }

        .boost-card[data-multiplier="2x"] .boost-card-multiplier { color: #00ff88; }
        .boost-card[data-multiplier="3x"] .boost-card-multiplier { color: #ff6400; }
        .boost-card[data-multiplier="5x"] .boost-card-multiplier { color: #9333ea; }
        .boost-card[data-multiplier="10x"] .boost-card-multiplier { color: #ffd700; }

        .boost-card-name {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
        }

        .boost-card-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .boost-card-duration {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        /* Floating XP Numbers */
        .floating-xp {
            position: absolute;
            font-family: var(--font-primary);
            font-size: 1.5rem;
            font-weight: 700;
            pointer-events: none;
            animation: floatXP 1.5s ease-out forwards;
        }

        @keyframes floatXP {
            0% { 
                transform: translateY(0) scale(0.5); 
                opacity: 0; 
            }
            20% { 
                transform: translateY(-20px) scale(1.2); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(-100px) scale(0.8); 
                opacity: 0; 
            }
        }

        /* Pulse Animation for Active State */
        .xp-boost-badge:not(.inactive)::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 25px;
            border: 2px solid currentColor;
            opacity: 0;
            animation: badgePulse 2s ease-out infinite;
        }

        @keyframes badgePulse {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.1); opacity: 0; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            body { padding: 1rem; }
            .control-panel { grid-template-columns: 1fr 1fr; }
            .xp-boost-badge { 
                padding: 1rem 1.5rem; 
                flex-direction: column;
                text-align: center;
            }
            .badge-title { font-size: 1.3rem; }
            .multiplier-icon { width: 60px; height: 60px; }
            .multiplier-value { font-size: 2rem; }
            .xp-gain-display { 
                position: relative; 
                top: auto; 
                right: auto; 
                margin-top: 1rem;
            }
            .boost-variants { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button">‚Üê Back</a>

    <div class="header">
        <h1>Double XP Active Indicator</h1>
        <p class="subtitle">Dynamic XP boost indicators with countdown timers and visual effects</p>
    </div>

    <div class="control-panel">
        <div class="control-group">
            <label>Style</label>
            <select id="boostStyle">
                <option value="neon" selected>Neon Green</option>
                <option value="fire">Fire Orange</option>
                <option value="electric">Electric Blue</option>
                <option value="cosmic">Cosmic Purple</option>
                <option value="gold">Premium Gold</option>
            </select>
        </div>
        <div class="control-group">
            <label>Multiplier</label>
            <select id="multiplierValue">
                <option value="2" selected>2X XP</option>
                <option value="3">3X XP</option>
                <option value="5">5X XP</option>
                <option value="10">10X XP</option>
            </select>
        </div>
        <div class="control-group">
            <label>Duration (minutes)</label>
            <input type="number" id="durationMinutes" value="30" min="1" max="1440">
        </div>
        <div class="control-group">
            <label>Animation Speed</label>
            <select id="animSpeed">
                <option value="slow">Slow</option>
                <option value="normal" selected>Normal</option>
                <option value="fast">Fast</option>
            </select>
        </div>
    </div>

    <div class="info-panel">
        <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value" id="statusDisplay">Active</div>
        </div>
        <div class="info-item">
            <div class="info-label">Multiplier</div>
            <div class="info-value" id="multiplierDisplay">2X</div>
        </div>
        <div class="info-item">
            <div class="info-label">Time Left</div>
            <div class="info-value" id="timeDisplay">30:00</div>
        </div>
        <div class="info-item">
            <div class="info-label">XP Earned</div>
            <div class="info-value" id="xpEarned">0</div>
        </div>
    </div>

    <div class="demo-area">
        <div class="xp-gain-display">
            <div class="xp-gain-label">Last Gain</div>
            <div class="xp-gain-value" id="lastGain">+0 XP</div>
            <div class="xp-gain-bonus" id="bonusDisplay">(+0 bonus)</div>
        </div>

        <div class="xp-boost-badge" id="boostBadge" data-style="neon">
            <div class="badge-bg-effect" id="bgEffect"></div>
            
            <div class="multiplier-icon">
                <div class="multiplier-circle"></div>
                <div class="multiplier-circle"></div>
                <div class="multiplier-circle"></div>
                <div class="multiplier-value"><span id="multiplierNum">2</span><span class="multiplier-x">X</span></div>
            </div>
            
            <div class="badge-content">
                <div class="badge-label">Boost Active</div>
                <div class="badge-title">Double XP</div>
                <div class="badge-timer">
                    <span class="timer-icon">&#9200;</span>
                    <span id="timerDisplay">30:00</span>
                </div>
            </div>
        </div>

        <button class="trigger-btn" id="triggerBtn">Earn XP (+100)</button>
    </div>

    <div class="showcase">
        <h3>Boost Multiplier Variants</h3>
        <div class="boost-variants">
            <div class="boost-card" data-multiplier="2x" onclick="selectBoost(2, 'neon', 30)">
                <div class="boost-card-header">
                    <div class="boost-card-multiplier">2X</div>
                    <div class="boost-card-name">Double XP</div>
                </div>
                <div class="boost-card-desc">Standard XP boost for casual gaming sessions</div>
                <div class="boost-card-duration">
                    <span>&#9200;</span> 30 minutes
                </div>
            </div>
            
            <div class="boost-card" data-multiplier="3x" onclick="selectBoost(3, 'fire', 60)">
                <div class="boost-card-header">
                    <div class="boost-card-multiplier">3X</div>
                    <div class="boost-card-name">Triple XP</div>
                </div>
                <div class="boost-card-desc">Enhanced boost for weekend events</div>
                <div class="boost-card-duration">
                    <span>&#9200;</span> 60 minutes
                </div>
            </div>
            
            <div class="boost-card" data-multiplier="5x" onclick="selectBoost(5, 'cosmic', 15)">
                <div class="boost-card-header">
                    <div class="boost-card-multiplier">5X</div>
                    <div class="boost-card-name">Mega XP</div>
                </div>
                <div class="boost-card-desc">Premium boost for special occasions</div>
                <div class="boost-card-duration">
                    <span>&#9200;</span> 15 minutes
                </div>
            </div>
            
            <div class="boost-card" data-multiplier="10x" onclick="selectBoost(10, 'gold', 5)">
                <div class="boost-card-header">
                    <div class="boost-card-multiplier">10X</div>
                    <div class="boost-card-name">Ultra XP</div>
                </div>
                <div class="boost-card-desc">Legendary boost for elite players</div>
                <div class="boost-card-duration">
                    <span>&#9200;</span> 5 minutes
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        let isActive = true;
        let multiplier = 2;
        let timeLeft = 30 * 60; // seconds
        let totalXP = 0;
        let timerInterval = null;

        // DOM Elements
        const boostBadge = document.getElementById('boostBadge');
        const bgEffect = document.getElementById('bgEffect');
        const boostStyleSelect = document.getElementById('boostStyle');
        const multiplierSelect = document.getElementById('multiplierValue');
        const durationInput = document.getElementById('durationMinutes');
        const animSpeedSelect = document.getElementById('animSpeed');
        const triggerBtn = document.getElementById('triggerBtn');

        // Initialize background particles
        function initBgParticles() {
            bgEffect.innerHTML = '';
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'bg-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 3 + 's';
                particle.style.animationDuration = (2 + Math.random() * 2) + 's';
                bgEffect.appendChild(particle);
            }
        }

        // Format time
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // Update display
        function updateDisplay() {
            document.getElementById('statusDisplay').textContent = isActive ? 'Active' : 'Inactive';
            document.getElementById('statusDisplay').style.color = isActive ? '#00ff88' : '#ff6b6b';
            document.getElementById('multiplierDisplay').textContent = multiplier + 'X';
            document.getElementById('timeDisplay').textContent = formatTime(timeLeft);
            document.getElementById('timerDisplay').textContent = formatTime(timeLeft);
            document.getElementById('multiplierNum').textContent = multiplier;
            document.getElementById('xpEarned').textContent = totalXP.toLocaleString();

            // Update badge title
            const titles = {
                2: 'Double XP',
                3: 'Triple XP',
                5: 'Mega XP',
                10: 'Ultra XP'
            };
            boostBadge.querySelector('.badge-title').textContent = titles[multiplier] || multiplier + 'X XP';

            // Active/inactive state
            boostBadge.classList.toggle('inactive', !isActive);
        }

        // Start timer
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                if (isActive && timeLeft > 0) {
                    timeLeft--;
                    updateDisplay();

                    if (timeLeft === 0) {
                        isActive = false;
                        updateDisplay();
                    }
                }
            }, 1000);
        }

        // Create floating XP
        function createFloatingXP(amount, isBonus = false) {
            const demoArea = document.querySelector('.demo-area');
            const float = document.createElement('div');
            float.className = 'floating-xp';
            float.textContent = '+' + amount + ' XP';
            float.style.color = isBonus ? '#00ff88' : '#00f2ea';
            float.style.left = 40 + Math.random() * 20 + '%';
            float.style.top = '50%';

            demoArea.appendChild(float);

            setTimeout(() => float.remove(), 1500);
        }

        // Earn XP
        function earnXP() {
            if (!isActive) {
                // Activate boost if inactive
                isActive = true;
                timeLeft = parseInt(durationInput.value) * 60;
                startTimer();
            }

            const baseXP = 100;
            const bonusXP = baseXP * (multiplier - 1);
            const totalGain = baseXP * multiplier;

            totalXP += totalGain;

            // Update last gain display
            document.getElementById('lastGain').textContent = '+' + totalGain + ' XP';
            document.getElementById('bonusDisplay').textContent = '(+' + bonusXP + ' bonus)';

            // Create floating numbers
            createFloatingXP(baseXP, false);
            if (bonusXP > 0) {
                setTimeout(() => createFloatingXP(bonusXP, true), 200);
            }

            updateDisplay();

            // Button feedback
            triggerBtn.style.transform = 'scale(0.95)';
            setTimeout(() => {
                triggerBtn.style.transform = '';
            }, 100);
        }

        // Select boost from showcase
        function selectBoost(mult, style, duration) {
            multiplier = mult;
            multiplierSelect.value = mult;
            boostStyleSelect.value = style;
            durationInput.value = duration;
            
            boostBadge.dataset.style = style;
            timeLeft = duration * 60;
            isActive = true;
            
            startTimer();
            updateDisplay();
            initBgParticles();
        }

        // Event listeners
        boostStyleSelect.addEventListener('change', (e) => {
            boostBadge.dataset.style = e.target.value;
            initBgParticles();
        });

        multiplierSelect.addEventListener('change', (e) => {
            multiplier = parseInt(e.target.value);
            updateDisplay();
        });

        durationInput.addEventListener('change', (e) => {
            timeLeft = parseInt(e.target.value) * 60;
            updateDisplay();
        });

        animSpeedSelect.addEventListener('change', (e) => {
            const speeds = {
                slow: '3s',
                normal: '2s',
                fast: '1s'
            };
            document.documentElement.style.setProperty('--pulse-speed', speeds[e.target.value]);
        });

        triggerBtn.addEventListener('click', earnXP);

        // Click badge to toggle
        boostBadge.addEventListener('click', () => {
            isActive = !isActive;
            if (isActive && timeLeft === 0) {
                timeLeft = parseInt(durationInput.value) * 60;
            }
            updateDisplay();
        });

        // Keyboard shortcut
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                earnXP();
            }
        });

        // Initialize
        initBgParticles();
        startTimer();
        updateDisplay();
    </script>
</body>
</html>
