<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Map Overlay Panel - JaZeR Maps Patterns</title>
  <link rel="stylesheet" href="../../../jazer-brand.css">
  <style>
    *{box-sizing:border-box}
    body{font-family:var(--font-body);background:var(--bg-dark);color:var(--text-light);margin:0;padding:1.25rem}
    .back-button{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-gray);text-decoration:none;font-family:var(--font-secondary);font-weight:600;padding:.5rem 1rem;border-radius:8px;border:1px solid var(--border-default);background:var(--bg-card)}
    .back-button:hover{border-color:var(--jazer-cyan);color:var(--jazer-cyan)}

    .hero{text-align:center;margin:1rem 0}
    .hero h1{font-size:clamp(1.75rem,3.5vw,2.5rem);background:var(--gradient-text);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .hero p{color:var(--text-gray);max-width:760px;margin:.4rem auto}

    .layout{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:1rem}

    .map-area{height:620px;border-radius:12px;border:1px solid var(--border-default);background:linear-gradient(90deg, rgba(0,0,0,0.35), rgba(0,0,0,0.45));position:relative;overflow:hidden}

    .overlay{position:absolute;right:12px;top:12px;width:320px;background:var(--bg-card);border-radius:12px;border:1px solid var(--border-default);box-shadow:var(--shadow-card);display:flex;flex-direction:column;overflow:hidden}
    .overlay-header{display:flex;align-items:center;justify-content:space-between;padding:.6rem .8rem;border-bottom:1px solid var(--border-default)}
    .tabs{display:flex;gap:.4rem;padding:.4rem}
    .tab{padding:.35rem .6rem;border-radius:999px;border:1px solid var(--border-default);cursor:pointer}
    .tab.active{background:rgba(0,242,234,0.05);border-color:var(--jazer-cyan);color:var(--jazer-cyan)}
    .items{padding:.6rem;display:flex;flex-direction:column;gap:.5rem;overflow:auto}
    .resize{position:absolute;left:-10px;top:0;width:10px;height:100%;cursor:ew-resize}
    .item{display:flex;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;border:1px dashed rgba(255,255,255,0.02)}
  </style>
</head>
<body>
  <a href="index.html" class="back-button">‚Üê Back to Maps & Geolocation</a>
  <header class="hero">
    <h1>Map Overlay Panel</h1>
    <p>Slide-out overlay with tabs, lists, and resize controls for rich contextual information panels.</p>
  </header>

  <main class="layout">
    <div class="map-area" id="mapArea">
      <div class="overlay" id="overlay">
        <div class="overlay-header"><div style="font-weight:700">Details</div><div class="small muted">3 tabs</div></div>
        <div class="tabs" id="tabs"><button class="tab active" data-tab="layers">Layers</button><button class="tab" data-tab="bookmarks">Bookmarks</button><button class="tab" data-tab="info">Info</button></div>
        <div class="items" id="items"></div>
        <div class="resize" id="resize"></div>
      </div>
    </div>
  </main>

  <script>
    const items = document.getElementById('items'); const tabs = document.getElementById('tabs'); const overlay = document.getElementById('overlay'); const resize = document.getElementById('resize');
    const content = { layers: ['Traffic', 'Transit', 'Bicycle'], bookmarks: ['Home', 'Work', 'Favorites'], info: ['Scale', 'Projection', 'Units'] };

    function renderTab(name){ items.innerHTML = ''; content[name].forEach(c=>{ const el = document.createElement('div'); el.className='item'; el.innerHTML = `<div style='width:14px;height:14px;border-radius:4px;background:linear-gradient(135deg,var(--jazer-cyan),var(--jazer-purple))'></div><div>${c}</div><div style='margin-left:auto' class='small muted'>toggle</div>`; items.appendChild(el); }); }

    tabs.addEventListener('click', (e)=>{ const tab = e.target.closest('.tab'); if(!tab) return; tabs.querySelectorAll('.tab').forEach(t=>t.classList.remove('active')); tab.classList.add('active'); renderTab(tab.dataset.tab); });
    renderTab('layers');

    // Resize overlay
    let isResizing = false; let startX = 0; let startWidth = 320; resize.addEventListener('mousedown', (e)=>{ isResizing=true; startX = e.clientX; startWidth = overlay.offsetWidth; e.preventDefault(); }); window.addEventListener('mousemove', (e)=>{ if(!isResizing) return; const diff = startX - e.clientX; overlay.style.width = Math.max(220, startWidth + diff) + 'px'; }); window.addEventListener('mouseup', ()=> isResizing = false);
  </script>
</body>
</html>