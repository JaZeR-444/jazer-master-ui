<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Torch/Flashlight Effect Cursor</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: #000;
            font-family: var(--font-body);
            overflow: hidden;
            cursor: none;
        }

        /* Dark overlay with flashlight cutout */
        .flashlight-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle 150px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                transparent 0%,
                transparent 140px,
                rgba(0, 0, 0, 0.95) 150px,
                rgba(0, 0, 0, 1) 160px
            );
            pointer-events: none;
            z-index: 1000;
            mix-blend-mode: normal;
        }

        /* Alternative overlay with sharper edges */
        .flashlight-overlay-sharp {
            background: radial-gradient(
                circle 120px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                transparent 0%,
                transparent 110px,
                rgba(0, 0, 0, 0.98) 120px,
                rgba(0, 0, 0, 1) 130px
            );
        }

        /* Soft gradient overlay */
        .flashlight-overlay-soft {
            background: radial-gradient(
                circle 200px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                transparent 0%,
                rgba(0, 0, 0, 0.3) 100px,
                rgba(0, 0, 0, 0.8) 180px,
                rgba(0, 0, 0, 1) 200px
            );
        }

        /* Colored flashlight effect */
        .flashlight-overlay-colored {
            background: radial-gradient(
                circle 150px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                rgba(0, 255, 255, 0.1) 0%,
                rgba(0, 255, 255, 0.05) 100px,
                rgba(0, 0, 0, 0.9) 140px,
                rgba(0, 0, 0, 1) 160px
            );
        }

        /* Content container */
        .content {
            position: relative;
            z-index: 1;
            padding: 2rem;
            color: #fff;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 2rem;
        }

        /* Demo sections */
        .demo-section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-title {
            font-size: 1.5rem;
            color: var(--jazer-cyan);
            margin-bottom: 1rem;
        }

        .text-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .text-card {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .text-card h3 {
            color: var(--jazer-purple);
            margin-bottom: 0.5rem;
        }

        .text-card p {
            color: #ccc;
            line-height: 1.6;
        }

        /* Interactive elements */
        .interactive-area {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .mystery-box {
            padding: 2rem;
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.1), rgba(0, 255, 255, 0.1));
            border: 2px solid var(--jazer-purple);
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: none;
        }

        .mystery-box:hover {
            transform: scale(1.05);
            border-color: var(--jazer-cyan);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .mystery-box h4 {
            color: var(--jazer-pink);
            margin-bottom: 0.5rem;
        }

        .mystery-box p {
            color: #fff;
            font-size: 0.9rem;
        }

        /* Control panel */
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.8);
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid var(--jazer-cyan);
            backdrop-filter: blur(10px);
        }

        .control-title {
            color: var(--jazer-cyan);
            font-size: 1rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .control-group {
            margin-bottom: 1rem;
        }

        .control-label {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .effect-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .effect-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            border-radius: 5px;
            cursor: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .effect-btn:hover {
            background: var(--jazer-cyan);
            border-color: var(--jazer-cyan);
            transform: translateX(5px);
        }

        .effect-btn.active {
            background: var(--jazer-purple);
            border-color: var(--jazer-purple);
        }

        /* Size slider */
        .size-slider {
            width: 100%;
            margin-top: 0.5rem;
        }

        .size-value {
            color: var(--jazer-pink);
            font-size: 0.8rem;
            text-align: center;
            margin-top: 0.25rem;
        }

        /* Hidden content revealed by flashlight */
        .hidden-content {
            position: absolute;
            color: #ff0;
            font-size: 0.8rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .hidden-content.revealed {
            opacity: 1;
        }

        /* Custom cursor light source */
        .light-source {
            position: fixed;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(
                circle,
                rgba(255, 255, 255, 0.1) 0%,
                transparent 70%
            );
            pointer-events: none;
            z-index: 999;
            transform: translate(-50%, -50%);
            mix-blend-mode: screen;
        }

        /* Back navigation */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 0.75rem 1.5rem;
            background: rgba(0, 0, 0, 0.8);
            color: var(--jazer-cyan);
            text-decoration: none;
            border-radius: 25px;
            border: 1px solid var(--jazer-cyan);
            z-index: 1002;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            cursor: none;
        }

        .back-button:hover {
            background: var(--jazer-cyan);
            color: #000;
            transform: translateX(-5px);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }
            
            .controls {
                top: auto;
                bottom: 20px;
                right: 20px;
                max-width: 250px;
            }
            
            .text-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Back navigation -->
    <a href="../index.html" class="back-button">‚Üê Back to Cursors</a>

    <!-- Flashlight overlay -->
    <div class="flashlight-overlay" id="flashlightOverlay"></div>
    
    <!-- Light source effect -->
    <div class="light-source" id="lightSource"></div>

    <!-- Main content -->
    <main class="content">
        <header class="header">
            <h1 class="title">Torch/Flashlight Effect</h1>
            <p class="subtitle">Move your cursor to explore the darkness ‚Ä¢ Find hidden content</p>
        </header>

        <!-- Demo section 1 -->
        <section class="demo-section">
            <h2 class="demo-title">üîç Hidden Information</h2>
            <div class="text-grid">
                <div class="text-card">
                    <h3>Secret Message</h3>
                    <p>There's a hidden message somewhere in this card. Can you find it with your flashlight?</p>
                    <div class="hidden-content" style="top: 80px; left: 20px;" data-reveal="secret1">
                        üéâ You found it! Great job exploring!
                    </div>
                </div>
                
                <div class="text-card">
                    <h3>Easter Egg Hunt</h3>
                    <p>Keep exploring different areas to discover all the hidden surprises we've placed.</p>
                    <div class="hidden-content" style="top: 60px; right: 20px;" data-reveal="secret2">
                        üåü Another secret discovered!
                    </div>
                </div>
                
                <div class="text-card">
                    <h3>Dark Mode Explorer</h3>
                    <p>This effect creates an immersive exploration experience. Perfect for storytelling.</p>
                    <div class="hidden-content" style="bottom: 20px; left: 50%;" data-reveal="secret3">
                        üöÄ You're a master explorer!
                    </div>
                </div>
            </div>
        </section>

        <!-- Demo section 2 -->
        <section class="demo-section">
            <h2 class="demo-title">üéØ Interactive Discovery Zone</h2>
            <div class="interactive-area">
                <div class="mystery-box">
                    <h4>Mystery Box #1</h4>
                    <p>Hover to reveal what's inside</p>
                </div>
                
                <div class="mystery-box">
                    <h4>Mystery Box #2</h4>
                    <p>Another surprise awaits</p>
                </div>
                
                <div class="mystery-box">
                    <h4>Mystery Box #3</h4>
                    <p>Keep exploring for more</p>
                </div>
                
                <div class="mystery-box">
                    <h4>Mystery Box #4</h4>
                    <p>The final mystery box</p>
                </div>
            </div>
        </section>

        <!-- Demo section 3 -->
        <section class="demo-section">
            <h2 class="demo-title">üìñ Story Content</h2>
            <div class="text-grid">
                <div class="text-card">
                    <h3>The Beginning</h3>
                    <p>In the depths of darkness, a single light emerges. This is your flashlight, your guide through the unknown. Every movement reveals new secrets hidden in the shadows.</p>
                </div>
                
                <div class="text-card">
                    <h3>The Journey</h3>
                    <p>As you explore, you'll discover that the darkness holds more than just empty space. It contains stories, mysteries, and interactive elements waiting to be found.</p>
                </div>
                
                <div class="text-card">
                    <h3>The Discovery</h3>
                    <p>Each area you illuminate brings new revelations. This technique is perfect for creating immersive experiences, games, and interactive storytelling.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Control panel -->
    <div class="controls">
        <h3 class="control-title">üî¶ Flashlight Controls</h3>
        
        <div class="control-group">
            <label class="control-label">Effect Type:</label>
            <div class="effect-buttons">
                <button class="effect-btn active" data-effect="normal">Normal</button>
                <button class="effect-btn" data-effect="sharp">Sharp Edge</button>
                <button class="effect-btn" data-effect="soft">Soft Gradient</button>
                <button class="effect-btn" data-effect="colored">Colored Light</button>
            </div>
        </div>
        
        <div class="control-group">
            <label class="control-label">Beam Size:</label>
            <input type="range" class="size-slider" id="sizeSlider" min="50" max="300" value="150">
            <div class="size-value" id="sizeValue">150px</div>
        </div>
    </div>

    <script>
        // Flashlight effect controller
        class FlashlightController {
            constructor() {
                this.overlay = document.getElementById('flashlightOverlay');
                this.lightSource = document.getElementById('lightSource');
                this.sizeSlider = document.getElementById('sizeSlider');
                this.sizeValue = document.getElementById('sizeValue');
                this.hiddenContents = document.querySelectorAll('.hidden-content');
                
                this.mouseX = 50;
                this.mouseY = 50;
                this.currentEffect = 'normal';
                this.beamSize = 150;
                
                this.init();
            }
            
            init() {
                // Mouse move handler
                document.addEventListener('mousemove', (e) => this.handleMouseMove(e));
                
                // Touch move handler for mobile
                document.addEventListener('touchmove', (e) => this.handleTouchMove(e));
                
                // Effect buttons
                document.querySelectorAll('.effect-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.changeEffect(e));
                });
                
                // Size slider
                this.sizeSlider.addEventListener('input', (e) => this.changeSize(e));
                
                // Initialize position
                this.updateFlashlightPosition(window.innerWidth / 2, window.innerHeight / 2);
                
                // Start animation loop
                this.animate();
            }
            
            handleMouseMove(e) {
                this.mouseX = e.clientX;
                this.mouseY = e.clientY;
                this.updateFlashlightPosition(e.clientX, e.clientY);
                this.checkHiddenContentReveal(e.clientX, e.clientY);
            }
            
            handleTouchMove(e) {
                if (e.touches.length > 0) {
                    const touch = e.touches[0];
                    this.mouseX = touch.clientX;
                    this.mouseY = touch.clientY;
                    this.updateFlashlightPosition(touch.clientX, touch.clientY);
                    this.checkHiddenContentReveal(touch.clientX, touch.clientY);
                }
            }
            
            updateFlashlightPosition(x, y) {
                const xPercent = (x / window.innerWidth) * 100;
                const yPercent = (y / window.innerHeight) * 100;
                
                // Update CSS custom properties
                this.overlay.style.setProperty('--mouse-x', `${xPercent}%`);
                this.overlay.style.setProperty('--mouse-y', `${yPercent}%`);
                
                // Update light source position
                this.lightSource.style.left = `${x}px`;
                this.lightSource.style.top = `${y}px`;
            }
            
            changeEffect(e) {
                const btn = e.target;
                const effect = btn.dataset.effect;
                
                // Update active button
                document.querySelectorAll('.effect-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Remove all effect classes
                this.overlay.classList.remove('flashlight-overlay-sharp', 'flashlight-overlay-soft', 'flashlight-overlay-colored');
                
                // Add new effect class
                if (effect !== 'normal') {
                    this.overlay.classList.add(`flashlight-overlay-${effect}`);
                }
                
                this.currentEffect = effect;
            }
            
            changeSize(e) {
                this.beamSize = parseInt(e.target.value);
                this.sizeValue.textContent = `${this.beamSize}px`;
                
                // Update the gradient size based on current effect
                this.updateGradientSize();
            }
            
            updateGradientSize() {
                const size = this.beamSize;
                const softSize = size * 1.3;
                const hardEdge = size - 10;
                
                let gradient;
                
                switch (this.currentEffect) {
                    case 'sharp':
                        gradient = `radial-gradient(
                            circle ${size}px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                            transparent 0%,
                            transparent ${hardSize}px,
                            rgba(0, 0, 0, 0.98) ${size}px,
                            rgba(0, 0, 0, 1) ${size + 10}px
                        )`;
                        break;
                        
                    case 'soft':
                        gradient = `radial-gradient(
                            circle ${softSize}px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                            transparent 0%,
                            rgba(0, 0, 0, 0.3) ${size * 0.5}px,
                            rgba(0, 0, 0, 0.8) ${size * 0.9}px,
                            rgba(0, 0, 0, 1) ${softSize}px
                        )`;
                        break;
                        
                    case 'colored':
                        gradient = `radial-gradient(
                            circle ${size}px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                            rgba(0, 255, 255, 0.1) 0%,
                            rgba(0, 255, 255, 0.05) ${size * 0.7}px,
                            rgba(0, 0, 0, 0.9) ${size - 10}px,
                            rgba(0, 0, 0, 1) ${size + 10}px
                        )`;
                        break;
                        
                    default:
                        gradient = `radial-gradient(
                            circle ${size}px at var(--mouse-x, 50%) var(--mouse-y, 50%),
                            transparent 0%,
                            transparent ${size - 10}px,
                            rgba(0, 0, 0, 0.95) ${size}px,
                            rgba(0, 0, 0, 1) ${size + 10}px
                        )`;
                }
                
                this.overlay.style.background = gradient;
            }
            
            checkHiddenContentReveal(mouseX, mouseY) {
                this.hiddenContents.forEach(content => {
                    const rect = content.getBoundingClientRect();
                    const contentX = rect.left + rect.width / 2;
                    const contentY = rect.top + rect.height / 2;
                    
                    const distance = Math.sqrt(
                        Math.pow(mouseX - contentX, 2) + 
                        Math.pow(mouseY - contentY, 2)
                    );
                    
                    if (distance < this.beamSize) {
                        content.classList.add('revealed');
                    } else {
                        content.classList.remove('revealed');
                    }
                });
            }
            
            animate() {
                // Add subtle pulsing effect to light source
                const pulse = Math.sin(Date.now() * 0.002) * 0.1 + 1;
                this.lightSource.style.transform = `translate(-50%, -50%) scale(${pulse})`;
                
                requestAnimationFrame(() => this.animate());
            }
        }
        
        // Initialize flashlight controller
        const flashlight = new FlashlightController();
        
        // Add some ambient effects
        function createAmbientParticles() {
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.cssText = `
                        position: fixed;
                        width: 2px;
                        height: 2px;
                        background: rgba(255, 255, 255, 0.5);
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 0;
                        left: ${Math.random() * 100}%;
                        top: ${Math.random() * 100}%;
                        animation: float ${5 + Math.random() * 10}s linear infinite;
                    `;
                    
                    const style = document.createElement('style');
                    style.textContent = `
                        @keyframes float {
                            from {
                                transform: translateY(0) translateX(0);
                                opacity: 0;
                            }
                            10% {
                                opacity: 1;
                            }
                            90% {
                                opacity: 1;
                            }
                            to {
                                transform: translateY(-100vh) translateX(${Math.random() * 200 - 100}px);
                                opacity: 0;
                            }
                        }
                    `;
                    
                    if (!document.querySelector('style[data-ambient]')) {
                        style.setAttribute('data-ambient', 'true');
                        document.head.appendChild(style);
                    }
                    
                    document.body.appendChild(particle);
                    
                    // Remove particle after animation
                    setTimeout(() => particle.remove(), 15000);
                }, i * 500);
            }
        }
        
        // Start ambient effects
        createAmbientParticles();
        setInterval(createAmbientParticles, 10000);
        
        // Keyboard shortcut to toggle flashlight
        document.addEventListener('keydown', (e) => {
            if (e.key === 'f' || e.key === 'F') {
                const overlay = document.getElementById('flashlightOverlay');
                overlay.style.display = overlay.style.display === 'none' ? 'block' : 'none';
            }
        });
    </script>
</body>
</html>