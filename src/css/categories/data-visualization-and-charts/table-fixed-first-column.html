<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Fixed First Column - JaZeR CSS Patterns</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            padding: 1.5rem;
            line-height: 1.6;
        }

        /* Back Button */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--jazer-cyan);
            text-decoration: none;
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border: 1px solid transparent;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .back-button:hover {
            color: var(--jazer-pink);
            border-color: var(--jazer-pink);
            transform: translateX(-5px);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 2rem 1.5rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.08) 0%, rgba(147, 51, 234, 0.08) 50%, rgba(236, 72, 153, 0.08) 100%);
            border-radius: 16px;
            border: 1px solid rgba(6, 182, 212, 0.2);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gradient-primary);
        }

        .hero h1 {
            font-family: var(--font-primary);
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            font-weight: 800;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .hero-description {
            color: var(--text-gray);
            font-size: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Layout */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        @media (min-width: 1000px) {
            .main-grid {
                grid-template-columns: 1fr 320px;
            }
        }

        /* Panel Styles */
        .panel {
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .panel-title {
            font-family: var(--font-secondary);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--jazer-cyan);
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-default);
        }

        /* Table Container - Horizontal Scroll */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 2px solid var(--border-default);
            background: rgba(0, 0, 0, 0.3);
            position: relative;
        }

        /* Fixed Column Table */
        .fixed-col-table {
            width: max-content;
            min-width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .fixed-col-table th,
        .fixed-col-table td {
            padding: 1rem 1.25rem;
            text-align: left;
            border-bottom: 1px solid var(--border-default);
            white-space: nowrap;
        }

        .fixed-col-table th {
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--header-color, var(--jazer-cyan));
            background: rgba(10, 10, 10, 0.95);
            border-bottom: 2px solid var(--header-border, rgba(6, 182, 212, 0.4));
        }

        .fixed-col-table tbody tr:last-child td {
            border-bottom: none;
        }

        .fixed-col-table tbody tr {
            transition: background 0.2s ease;
        }

        .fixed-col-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        /* Fixed First Column */
        .fixed-col-table th:first-child,
        .fixed-col-table td:first-child {
            position: sticky;
            left: 0;
            z-index: 5;
            background: var(--fixed-bg, #0a0a0a);
            min-width: var(--fixed-width, 150px);
        }

        .fixed-col-table th:first-child {
            z-index: 10;
            background: var(--fixed-header-bg, #0d0d0d);
        }

        /* Shadow on fixed column */
        .shadow-enabled .fixed-col-table th:first-child,
        .shadow-enabled .fixed-col-table td:first-child {
            box-shadow: 4px 0 8px rgba(0, 0, 0, 0.4);
        }

        /* Border on fixed column */
        .border-enabled .fixed-col-table th:first-child,
        .border-enabled .fixed-col-table td:first-child {
            border-right: 2px solid var(--header-color, var(--jazer-cyan));
        }

        /* Theme Colors */
        .theme-cyan {
            --header-color: var(--jazer-cyan);
            --header-border: rgba(6, 182, 212, 0.4);
            --fixed-bg: rgba(6, 182, 212, 0.05);
            --fixed-header-bg: rgba(6, 182, 212, 0.1);
        }

        .theme-purple {
            --header-color: var(--jazer-purple);
            --header-border: rgba(147, 51, 234, 0.4);
            --fixed-bg: rgba(147, 51, 234, 0.05);
            --fixed-header-bg: rgba(147, 51, 234, 0.1);
        }

        .theme-pink {
            --header-color: var(--jazer-pink);
            --header-border: rgba(236, 72, 153, 0.4);
            --fixed-bg: rgba(236, 72, 153, 0.05);
            --fixed-header-bg: rgba(236, 72, 153, 0.1);
        }

        /* Column Width */
        .width-narrow { --fixed-width: 120px; }
        .width-medium { --fixed-width: 160px; }
        .width-wide { --fixed-width: 200px; }

        /* Scroll Indicator */
        .scroll-hint {
            text-align: center;
            padding: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid var(--border-default);
            margin-top: -1px;
            border-radius: 0 0 10px 10px;
        }

        /* Controls Panel */
        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        details {
            border-bottom: 1px solid var(--border-default);
        }

        details:last-of-type {
            border-bottom: none;
        }

        summary {
            padding: 1rem 0;
            cursor: pointer;
            font-family: var(--font-secondary);
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-light);
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary::-webkit-details-marker { display: none; }
        summary::after { content: '+'; font-size: 1.2rem; color: var(--jazer-cyan); }
        details[open] summary::after { content: '−'; }
        summary:hover { color: var(--jazer-cyan); }

        .details-content { padding: 0 0 1rem 0; }

        /* Radio Grid */
        .radio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .radio-grid.cols-2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .radio-option { position: relative; }

        .radio-option input {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .radio-option label {
            display: block;
            padding: 0.5rem;
            text-align: center;
            font-size: 0.75rem;
            font-weight: 600;
            border: 2px solid var(--border-default);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-gray);
        }

        .radio-option input:checked + label {
            border-color: var(--jazer-cyan);
            background: rgba(6, 182, 212, 0.1);
            color: var(--jazer-cyan);
        }

        .radio-option label:hover {
            border-color: var(--jazer-purple);
        }

        /* Toggle Switch */
        .toggle-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .toggle-row:last-child { margin-bottom: 0; }

        .toggle-label {
            font-size: 0.85rem;
            color: var(--text-gray);
        }

        .toggle {
            position: relative;
            width: 44px;
            height: 24px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-slider::before {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            left: 3px;
            top: 3px;
            background: var(--text-light);
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle input:checked + .toggle-slider {
            background: var(--jazer-cyan);
        }

        .toggle input:checked + .toggle-slider::before {
            transform: translateX(20px);
        }

        /* Color Buttons */
        .color-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .color-btn {
            aspect-ratio: 2/1;
            border: 2px solid var(--border-default);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .color-btn.active {
            border-color: var(--text-light);
            box-shadow: 0 0 12px currentColor;
        }

        .color-btn.cyan { background: var(--jazer-cyan); }
        .color-btn.purple { background: var(--jazer-purple); }
        .color-btn.pink { background: var(--jazer-pink); }

        /* Reset Button */
        .btn-reset {
            width: 100%;
            padding: 0.75rem;
            margin-top: 1rem;
            border: 2px solid var(--border-default);
            border-radius: 8px;
            background: transparent;
            color: var(--text-gray);
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-reset:hover {
            border-color: var(--jazer-pink);
            color: var(--jazer-pink);
        }

        /* Status Bar */
        .status-bar {
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            padding: 0.875rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .status-info {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.75rem;
        }

        .status-item span:first-child {
            color: var(--text-muted);
            font-family: var(--font-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-item span:last-child {
            color: var(--jazer-cyan);
            font-weight: 600;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-gray);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--jazer-cyan);
            border-radius: 50%;
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; box-shadow: 0 0 4px var(--jazer-cyan); }
            50% { opacity: 0.5; box-shadow: 0 0 8px var(--jazer-cyan); }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button">← Back to Data Visualization & Charts</a>

    <header class="hero">
        <h1>Table Fixed First Column</h1>
        <p class="hero-description">Wide tables with a fixed first column that stays visible while scrolling horizontally through data.</p>
    </header>

    <div class="main-grid">
        <!-- Demo Area -->
        <section class="panel">
            <div class="panel-title">Table Preview - Scroll horizontally</div>
            <div id="tableWrapper" class="theme-cyan width-medium shadow-enabled">
                <div class="table-container">
                    <table class="fixed-col-table" id="demoTable">
                        <thead>
                            <tr id="tableHead"></tr>
                        </thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
                <div class="scroll-hint">← Scroll horizontally to see fixed column →</div>
            </div>
        </section>

        <!-- Controls Panel -->
        <aside class="panel controls-panel">
            <div class="panel-title">Configuration</div>

            <details open>
                <summary>Color Theme</summary>
                <div class="details-content">
                    <div class="color-grid">
                        <button class="color-btn cyan active" data-theme="cyan" title="Cyan"></button>
                        <button class="color-btn purple" data-theme="purple" title="Purple"></button>
                        <button class="color-btn pink" data-theme="pink" title="Pink"></button>
                    </div>
                </div>
            </details>

            <details open>
                <summary>Fixed Column Width</summary>
                <div class="details-content">
                    <div class="radio-grid">
                        <div class="radio-option">
                            <input type="radio" name="width" id="width-narrow" value="narrow">
                            <label for="width-narrow">Narrow</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="width" id="width-medium" value="medium" checked>
                            <label for="width-medium">Medium</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="width" id="width-wide" value="wide">
                            <label for="width-wide">Wide</label>
                        </div>
                    </div>
                </div>
            </details>

            <details open>
                <summary>Effects</summary>
                <div class="details-content">
                    <div class="toggle-row">
                        <span class="toggle-label">Drop Shadow</span>
                        <label class="toggle">
                            <input type="checkbox" id="shadowToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="toggle-row">
                        <span class="toggle-label">Border Line</span>
                        <label class="toggle">
                            <input type="checkbox" id="borderToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </details>

            <details>
                <summary>Data Set</summary>
                <div class="details-content">
                    <div class="radio-grid cols-2">
                        <div class="radio-option">
                            <input type="radio" name="dataset" id="data-quarterly" value="quarterly" checked>
                            <label for="data-quarterly">Quarterly</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dataset" id="data-features" value="features">
                            <label for="data-features">Features</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dataset" id="data-schedule" value="schedule">
                            <label for="data-schedule">Schedule</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dataset" id="data-pricing" value="pricing">
                            <label for="data-pricing">Pricing</label>
                        </div>
                    </div>
                </div>
            </details>

            <button class="btn-reset" id="resetBtn">Reset to Defaults</button>
        </aside>
    </div>

    <!-- Status Bar -->
    <footer class="status-bar">
        <div class="status-info">
            <div class="status-item">
                <span>Theme:</span>
                <span id="statusTheme">Cyan</span>
            </div>
            <div class="status-item">
                <span>Width:</span>
                <span id="statusWidth">Medium</span>
            </div>
            <div class="status-item">
                <span>Columns:</span>
                <span id="statusCols">8</span>
            </div>
            <div class="status-item">
                <span>Rows:</span>
                <span id="statusRows">10</span>
            </div>
        </div>
        <div class="status-indicator">
            <span class="status-dot"></span>
            <span>Fixed Column Ready</span>
        </div>
    </footer>

    <script>
        // State
        const state = {
            theme: 'cyan',
            width: 'medium',
            shadow: true,
            border: false,
            dataset: 'quarterly'
        };

        // Data sets with many columns for horizontal scrolling
        const datasets = {
            quarterly: {
                columns: ['Metric', 'Q1 2023', 'Q2 2023', 'Q3 2023', 'Q4 2023', 'Q1 2024', 'Q2 2024', 'Q3 2024'],
                data: [
                    ['Revenue', '$1.2M', '$1.4M', '$1.6M', '$1.8M', '$2.1M', '$2.4M', '$2.8M'],
                    ['Expenses', '$800K', '$850K', '$900K', '$950K', '$1.0M', '$1.1M', '$1.2M'],
                    ['Profit', '$400K', '$550K', '$700K', '$850K', '$1.1M', '$1.3M', '$1.6M'],
                    ['Customers', '1,245', '1,456', '1,678', '1,890', '2,134', '2,456', '2,789'],
                    ['Churn Rate', '5.2%', '4.8%', '4.5%', '4.2%', '3.9%', '3.6%', '3.4%'],
                    ['MRR', '$98K', '$115K', '$132K', '$148K', '$172K', '$198K', '$228K'],
                    ['ARR', '$1.2M', '$1.4M', '$1.6M', '$1.8M', '$2.1M', '$2.4M', '$2.7M'],
                    ['CAC', '$245', '$232', '$218', '$205', '$192', '$180', '$168'],
                    ['LTV', '$2,450', '$2,680', '$2,890', '$3,120', '$3,380', '$3,650', '$3,920'],
                    ['NPS Score', '42', '45', '48', '51', '54', '57', '60']
                ]
            },
            features: {
                columns: ['Feature', 'Free', 'Starter', 'Pro', 'Business', 'Enterprise', 'Custom', 'Legacy'],
                data: [
                    ['Users', '1', '5', '25', '100', 'Unlimited', 'Custom', '10'],
                    ['Storage', '1 GB', '10 GB', '100 GB', '500 GB', '2 TB', 'Custom', '5 GB'],
                    ['API Calls', '1K/mo', '10K/mo', '100K/mo', '500K/mo', 'Unlimited', 'Custom', '5K/mo'],
                    ['Support', 'Community', 'Email', 'Priority', '24/7 Phone', 'Dedicated', 'Custom', 'Email'],
                    ['Analytics', 'Basic', 'Standard', 'Advanced', 'Custom', 'Full Suite', 'Custom', 'Basic'],
                    ['Integrations', '3', '10', '25', '50', 'All', 'Custom', '5'],
                    ['Export', 'CSV', 'CSV, PDF', 'All Formats', 'All + API', 'Custom', 'Custom', 'CSV'],
                    ['Backup', 'Weekly', 'Daily', 'Hourly', 'Real-time', 'Custom', 'Custom', 'Weekly'],
                    ['SLA', 'None', '99%', '99.5%', '99.9%', '99.99%', 'Custom', '98%'],
                    ['Training', 'Docs', 'Videos', 'Webinars', 'On-site', 'Custom', 'Custom', 'Docs']
                ]
            },
            schedule: {
                columns: ['Team Member', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                data: [
                    ['Alex Chen', '9-5', '9-5', '9-5', '9-5', '9-5', 'Off', 'Off'],
                    ['Maria Garcia', '10-6', '10-6', '10-6', '10-6', '10-6', 'Off', 'Off'],
                    ['James Wilson', '8-4', '8-4', '8-4', '8-4', '8-4', '10-2', 'Off'],
                    ['Sarah Kim', '9-5', 'Remote', '9-5', 'Remote', '9-5', 'Off', 'Off'],
                    ['David Brown', '12-8', '12-8', '12-8', '12-8', '12-8', 'Off', 'Off'],
                    ['Emma Davis', 'Off', '9-5', '9-5', '9-5', '9-5', '9-1', 'Off'],
                    ['Michael Lee', '9-5', '9-5', 'Off', '9-5', '9-5', 'Off', '10-4'],
                    ['Lisa Wang', 'Remote', 'Remote', '9-5', '9-5', 'Remote', 'Off', 'Off'],
                    ['Tom Johnson', '7-3', '7-3', '7-3', '7-3', '7-3', 'Off', 'Off'],
                    ['Amy Taylor', '9-5', '9-5', '9-5', '9-5', '9-5', 'Off', 'Off']
                ]
            },
            pricing: {
                columns: ['Service', 'Monthly', 'Quarterly', 'Bi-Annual', 'Annual', '2-Year', '3-Year', 'Lifetime'],
                data: [
                    ['Basic Plan', '$29', '$79', '$149', '$279', '$499', '$699', '$999'],
                    ['Pro Plan', '$79', '$219', '$399', '$749', '$1,349', '$1,899', '$2,999'],
                    ['Team Plan', '$199', '$549', '$999', '$1,899', '$3,399', '$4,799', '$7,499'],
                    ['Enterprise', '$499', '$1,399', '$2,499', '$4,799', '$8,599', '$11,999', 'Custom'],
                    ['Add: Storage', '$10', '$27', '$50', '$95', '$170', '$240', '$350'],
                    ['Add: Users', '$5', '$14', '$25', '$47', '$85', '$120', '$175'],
                    ['Add: Support', '$20', '$55', '$100', '$190', '$340', '$480', '$700'],
                    ['Add: API', '$15', '$41', '$75', '$143', '$257', '$360', '$525'],
                    ['Add: Analytics', '$25', '$69', '$125', '$238', '$428', '$600', '$875'],
                    ['Add: Backup', '$10', '$27', '$50', '$95', '$170', '$240', '$350']
                ]
            }
        };

        // DOM Elements
        const tableWrapper = document.getElementById('tableWrapper');
        const tableHead = document.getElementById('tableHead');
        const tableBody = document.getElementById('tableBody');
        const shadowToggle = document.getElementById('shadowToggle');
        const borderToggle = document.getElementById('borderToggle');
        const resetBtn = document.getElementById('resetBtn');
        const colorBtns = document.querySelectorAll('.color-btn');
        const widthRadios = document.querySelectorAll('input[name="width"]');
        const datasetRadios = document.querySelectorAll('input[name="dataset"]');

        // Render table
        function render() {
            const dataset = datasets[state.dataset];

            // Build wrapper classes
            let classes = `theme-${state.theme} width-${state.width}`;
            if (state.shadow) classes += ' shadow-enabled';
            if (state.border) classes += ' border-enabled';
            tableWrapper.className = classes;

            // Render header
            tableHead.innerHTML = dataset.columns.map(col => `<th>${col}</th>`).join('');

            // Render body
            tableBody.innerHTML = dataset.data.map(row => 
                `<tr>${row.map(cell => `<td>${cell}</td>`).join('')}</tr>`
            ).join('');

            updateStatus(dataset.columns.length, dataset.data.length);
        }

        // Update status bar
        function updateStatus(cols, rows) {
            document.getElementById('statusTheme').textContent = state.theme.charAt(0).toUpperCase() + state.theme.slice(1);
            document.getElementById('statusWidth').textContent = state.width.charAt(0).toUpperCase() + state.width.slice(1);
            document.getElementById('statusCols').textContent = cols;
            document.getElementById('statusRows').textContent = rows;
        }

        // Event: Theme color
        colorBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                colorBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.theme = btn.dataset.theme;
                render();
            });
        });

        // Event: Width
        widthRadios.forEach(radio => {
            radio.addEventListener('change', () => {
                state.width = radio.value;
                render();
            });
        });

        // Event: Shadow toggle
        shadowToggle.addEventListener('change', () => {
            state.shadow = shadowToggle.checked;
            render();
        });

        // Event: Border toggle
        borderToggle.addEventListener('change', () => {
            state.border = borderToggle.checked;
            render();
        });

        // Event: Dataset
        datasetRadios.forEach(radio => {
            radio.addEventListener('change', () => {
                state.dataset = radio.value;
                render();
            });
        });

        // Event: Reset
        resetBtn.addEventListener('click', () => {
            state.theme = 'cyan';
            state.width = 'medium';
            state.shadow = true;
            state.border = false;
            state.dataset = 'quarterly';

            colorBtns.forEach(b => b.classList.remove('active'));
            document.querySelector('.color-btn.cyan').classList.add('active');
            document.getElementById('width-medium').checked = true;
            shadowToggle.checked = true;
            borderToggle.checked = false;
            document.getElementById('data-quarterly').checked = true;

            render();
        });

        // Initial render
        render();
    </script>
</body>
</html>
