<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JaZeR Asteroids</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }

        canvas {
            display: block;
        }

        .hud {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 20, 0, 0.5), transparent);
            pointer-events: none;
            display: flex;
            justify-content: center;
            padding-top: 20px;
            font-family: monospace;
            color: #0f0;
            font-size: 2rem;
        }
    </style>
</head>

<body>
    <div class="hud">SECTOR: JaZeR</div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let w, h;
        function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        class Asteroid {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * w;
                this.y = Math.random() * h;
                this.z = Math.random() * w; // Depth
                this.size = 10 + Math.random() * 30;
                this.vx = (Math.random() - 0.5) * 2;
                this.vy = (Math.random() - 0.5) * 2;
                this.vz = -5 - Math.random() * 5; // Move towards camera
                this.rot = Math.random();
                this.rotSpeed = (Math.random() - 0.5) * 0.1;

                // Random polygon vertices
                this.points = [];
                const sides = 5 + Math.floor(Math.random() * 4);
                for (let i = 0; i < sides; i++) {
                    const angle = (Math.PI * 2 / sides) * i;
                    const r = this.size * (0.8 + Math.random() * 0.4);
                    this.points.push({ x: Math.cos(angle) * r, y: Math.sin(angle) * r });
                }
            }
            update() {
                this.z += this.vz;
                this.rot += this.rotSpeed;

                if (this.z < 1) { // Passed camera
                    this.z = w;
                    this.x = (Math.random() - 0.5) * w * 2 + w / 2;
                    this.y = (Math.random() - 0.5) * h * 2 + h / 2;
                }
            }
            draw() {
                const k = 300 / (this.z + 100);
                const screenX = (this.x - w / 2) * k + w / 2;
                const screenY = (this.y - h / 2) * k + h / 2;
                const scale = k;

                ctx.save();
                ctx.translate(screenX, screenY);
                ctx.scale(scale, scale);
                ctx.rotate(this.rot);

                ctx.fillStyle = '#444';
                ctx.strokeStyle = '#666';
                ctx.beginPath();
                this.points.forEach((p, i) => {
                    if (i === 0) ctx.moveTo(p.x, p.y);
                    else ctx.lineTo(p.x, p.y);
                });
                ctx.closePath();
                ctx.fill();
                ctx.stroke();

                ctx.restore();
            }
        }

        const asteroids = Array.from({ length: 100 }, () => new Asteroid());

        function animate() {
            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, w, h);

            asteroids.sort((a, b) => b.z - a.z); // Draw back to front

            asteroids.forEach(a => {
                a.update();
                a.draw();
            });
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>

</html>