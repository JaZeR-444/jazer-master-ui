<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Counter - JaZeR CSS Patterns</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        /* ==================== BASE STYLES ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            padding: 2rem;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 242, 234, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(147, 51, 234, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 0, 110, 0.05) 0%, transparent 50%);
            animation: backgroundShift 20s ease-in-out infinite;
            z-index: -1;
            pointer-events: none;
        }

        @keyframes backgroundShift {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-3%, 3%) rotate(1deg); }
            66% { transform: translate(3%, -3%) rotate(-1deg); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ==================== BACK BUTTON ==================== */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-gray);
            text-decoration: none;
            font-family: var(--font-secondary);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--border-default);
            background: var(--bg-card);
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .back-button:hover {
            border-color: var(--jazer-cyan);
            color: var(--jazer-cyan);
            transform: translateX(-5px);
            box-shadow: 0 0 20px rgba(0, 242, 234, 0.3);
        }

        /* ==================== HERO SECTION ==================== */
        .hero {
            text-align: center;
            padding: 2.5rem 2rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.08) 0%, rgba(147, 51, 234, 0.08) 50%, rgba(236, 72, 153, 0.08) 100%);
            border-radius: 20px;
            border: 2px solid rgba(6, 182, 212, 0.2);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }

        .hero-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 0 20px rgba(0, 242, 234, 0.5));
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .hero h1 {
            font-family: var(--font-primary);
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.75rem;
        }

        .hero-description {
            color: var(--text-gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .hero-tags {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 1.25rem;
            flex-wrap: wrap;
        }

        .hero-tag {
            padding: 0.4rem 1rem;
            background: rgba(0, 242, 234, 0.1);
            border: 1px solid rgba(0, 242, 234, 0.3);
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--jazer-cyan);
            font-family: var(--font-secondary);
            font-weight: 600;
        }

        /* ==================== MAIN LAYOUT ==================== */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 1100px) {
            .main-grid {
                grid-template-columns: 1fr 400px;
            }
        }

        /* ==================== PANELS ==================== */
        .panel {
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 16px;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        .panel:hover {
            border-color: rgba(0, 242, 234, 0.3);
        }

        .panel-header {
            padding: 1.25rem 1.5rem;
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.05) 0%, rgba(147, 51, 234, 0.05) 100%);
            border-bottom: 1px solid var(--border-default);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .panel-title {
            font-family: var(--font-primary);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .panel-content {
            padding: 1.5rem;
        }

        /* ==================== TEXT INPUT ==================== */
        .text-input {
            width: 100%;
            min-height: 350px;
            padding: 1.25rem;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            color: var(--text-light);
            font-family: var(--font-body);
            font-size: 1rem;
            line-height: 1.8;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .text-input:focus {
            outline: none;
            border-color: var(--jazer-cyan);
            box-shadow: 0 0 20px rgba(0, 242, 234, 0.2);
            background: rgba(0, 0, 0, 0.6);
        }

        .text-input::placeholder {
            color: var(--text-muted);
        }

        /* ==================== STATS GRID ==================== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.05) 0%, rgba(147, 51, 234, 0.05) 100%);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            padding: 1.25rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: var(--jazer-cyan);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 242, 234, 0.15);
        }

        .stat-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--jazer-cyan);
            font-family: var(--font-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-gray);
            font-family: var(--font-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ==================== BUTTONS ==================== */
        .btn {
            padding: 0.65rem 1.25rem;
            font-family: var(--font-secondary);
            font-size: 0.85rem;
            font-weight: 600;
            border-radius: 8px;
            border: 2px solid var(--border-default);
            background: var(--bg-card);
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .btn:hover {
            border-color: var(--jazer-cyan);
            color: var(--jazer-cyan);
            box-shadow: 0 0 15px rgba(0, 242, 234, 0.2);
            transform: translateY(-2px);
        }

        .btn-group {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        /* ==================== CONTROLS PANEL ==================== */
        details {
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        details:hover {
            border-color: rgba(0, 242, 234, 0.3);
        }

        details[open] {
            border-color: var(--jazer-cyan);
            box-shadow: 0 0 20px rgba(0, 242, 234, 0.1);
        }

        summary {
            padding: 1rem 1.25rem;
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.05) 0%, rgba(147, 51, 234, 0.05) 100%);
            cursor: pointer;
            font-family: var(--font-secondary);
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            list-style: none;
            transition: all 0.2s ease;
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::before {
            content: '‚ñ∂';
            font-size: 0.7rem;
            color: var(--jazer-cyan);
            transition: transform 0.2s ease;
        }

        details[open] summary::before {
            transform: rotate(90deg);
        }

        summary:hover {
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
        }

        .details-content {
            padding: 1.25rem;
            border-top: 1px solid var(--border-default);
        }

        /* ==================== KEYWORD ANALYSIS ==================== */
        .keyword-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .keyword-chip {
            padding: 0.4rem 0.8rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-default);
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .keyword-count {
            padding: 0.2rem 0.4rem;
            background: var(--jazer-cyan);
            color: var(--bg-dark);
            border-radius: 10px;
            font-weight: 700;
            font-size: 0.7rem;
        }

        /* ==================== DETAILED STATS ==================== */
        .detailed-stats {
            display: grid;
            gap: 0.75rem;
        }

        .detailed-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid var(--border-default);
        }

        .detailed-stat-label {
            font-size: 0.85rem;
            color: var(--text-gray);
        }

        .detailed-stat-value {
            font-size: 0.9rem;
            color: var(--jazer-cyan);
            font-weight: 700;
        }

        /* ==================== READING METRICS ==================== */
        .reading-metrics {
            display: grid;
            gap: 1rem;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-default);
            border-radius: 10px;
            padding: 1rem;
        }

        .metric-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .metric-icon {
            font-size: 1.2rem;
        }

        .metric-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--text-light);
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--jazer-cyan);
            margin-bottom: 0.25rem;
        }

        .metric-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* ==================== PROGRESS BAR ==================== */
        .progress-section {
            margin-top: 1rem;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-gray);
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-accent);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* ==================== STATUS BAR ==================== */
        .status-bar {
            margin-top: 2rem;
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .status-info {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .status-item .label {
            color: var(--text-muted);
            font-family: var(--font-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.7rem;
        }

        .status-item .value {
            color: var(--jazer-cyan);
            font-weight: 600;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-gray);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--jazer-cyan);
            border-radius: 50%;
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; box-shadow: 0 0 5px var(--jazer-cyan); }
            50% { opacity: 0.5; box-shadow: 0 0 15px var(--jazer-cyan); }
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .hero {
                padding: 1.5rem 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .status-bar {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        /* ==================== ANIMATIONS ==================== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.3s ease forwards;
        }

        /* ==================== SCROLLBAR ==================== */
        .keyword-list::-webkit-scrollbar {
            width: 6px;
        }

        .keyword-list::-webkit-scrollbar-thumb {
            background: var(--jazer-cyan);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Back Button -->
        <a href="index.html" class="back-button">
            <span>‚Üê</span>
            <span>Back to Utilities</span>
        </a>

        <!-- Hero Section -->
        <header class="hero">
            <span class="hero-icon">üìä</span>
            <h1>Word Counter</h1>
            <p class="hero-description">
                Comprehensive text analysis tool that counts words, characters, sentences, and paragraphs. 
                Calculate reading time, analyze keyword density, and get detailed writing statistics in real-time.
            </p>
            <div class="hero-tags">
                <span class="hero-tag">Real-time Analysis</span>
                <span class="hero-tag">Reading Time</span>
                <span class="hero-tag">Keyword Density</span>
                <span class="hero-tag">Writing Stats</span>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="main-grid">
            <!-- Left Column -->
            <div class="main-column">
                <!-- Input Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <h2 class="panel-title">
                            <span>‚úçÔ∏è</span>
                            Text Input
                        </h2>
                        <div class="btn-group">
                            <button class="btn" id="clearBtn">‚úï Clear</button>
                            <button class="btn" id="pasteBtn">üìã Paste</button>
                            <button class="btn" id="sampleBtn">üìù Sample</button>
                        </div>
                    </div>
                    <div class="panel-content">
                        <textarea 
                            id="inputText" 
                            class="text-input" 
                            placeholder="Start typing or paste your text here for instant analysis..."
                            spellcheck="false"
                        >The quick brown fox jumps over the lazy dog. This is a sample text to demonstrate the word counter utility. It helps writers, students, and professionals analyze their text comprehensively.

This tool provides real-time statistics including word count, character count, sentence count, paragraph count, and estimated reading time. It also analyzes keyword density to help you optimize your content.

Whether you're writing an essay, blog post, article, or any other content, this word counter makes it easy to track your progress and meet your writing goals.</textarea>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-icon">üìù</span>
                        <div class="stat-value" id="wordCount">0</div>
                        <div class="stat-label">Words</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üî§</span>
                        <div class="stat-value" id="charCount">0</div>
                        <div class="stat-label">Characters</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üí¨</span>
                        <div class="stat-value" id="sentenceCount">0</div>
                        <div class="stat-label">Sentences</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üìÑ</span>
                        <div class="stat-value" id="paragraphCount">0</div>
                        <div class="stat-label">Paragraphs</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <div class="stat-value" id="readTime">0</div>
                        <div class="stat-label">Min Read</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üó£Ô∏è</span>
                        <div class="stat-value" id="speakTime">0</div>
                        <div class="stat-label">Min Speak</div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Controls & Analysis -->
            <aside class="controls-panel">
                <!-- Detailed Statistics -->
                <details open>
                    <summary>
                        <span>üìà</span>
                        Detailed Statistics
                    </summary>
                    <div class="details-content">
                        <div class="detailed-stats">
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Characters (no spaces)</span>
                                <span class="detailed-stat-value" id="charNoSpaces">0</span>
                            </div>
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Characters (with spaces)</span>
                                <span class="detailed-stat-value" id="charWithSpaces">0</span>
                            </div>
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Lines</span>
                                <span class="detailed-stat-value" id="lineCount">0</span>
                            </div>
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Unique words</span>
                                <span class="detailed-stat-value" id="uniqueWords">0</span>
                            </div>
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Average word length</span>
                                <span class="detailed-stat-value" id="avgWordLength">0</span>
                            </div>
                            <div class="detailed-stat">
                                <span class="detailed-stat-label">Longest word</span>
                                <span class="detailed-stat-value" id="longestWord">-</span>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Reading Metrics -->
                <details>
                    <summary>
                        <span>üìñ</span>
                        Reading Metrics
                    </summary>
                    <div class="details-content">
                        <div class="reading-metrics">
                            <div class="metric-card">
                                <div class="metric-header">
                                    <span class="metric-icon">üëÄ</span>
                                    <span class="metric-title">Reading Time</span>
                                </div>
                                <div class="metric-value" id="readTimeDetailed">0 min</div>
                                <div class="metric-desc">Based on 200 words per minute</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-header">
                                    <span class="metric-icon">üéôÔ∏è</span>
                                    <span class="metric-title">Speaking Time</span>
                                </div>
                                <div class="metric-value" id="speakTimeDetailed">0 min</div>
                                <div class="metric-desc">Based on 130 words per minute</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-header">
                                    <span class="metric-icon">üìè</span>
                                    <span class="metric-title">Avg Sentence Length</span>
                                </div>
                                <div class="metric-value" id="avgSentenceLength">0</div>
                                <div class="metric-desc">Words per sentence</div>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Keyword Density -->
                <details>
                    <summary>
                        <span>üîç</span>
                        Keyword Density
                    </summary>
                    <div class="details-content">
                        <div class="keyword-list" id="keywordList">
                            <div style="color: var(--text-muted); font-size: 0.85rem; padding: 1rem;">
                                Type some text to see keyword analysis...
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Writing Goals -->
                <details>
                    <summary>
                        <span>üéØ</span>
                        Writing Goals
                    </summary>
                    <div class="details-content">
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; font-size: 0.85rem; color: var(--text-gray); margin-bottom: 0.5rem;">
                                Target Word Count
                            </label>
                            <input 
                                type="number" 
                                id="targetWords" 
                                value="500" 
                                min="0" 
                                style="width: 100%; padding: 0.65rem; background: rgba(0,0,0,0.3); border: 2px solid var(--border-default); border-radius: 8px; color: var(--text-light); font-size: 0.9rem;"
                            >
                        </div>
                        <div class="progress-section">
                            <div class="progress-label">
                                <span>Progress</span>
                                <span id="progressPercent">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Export Options -->
                <details>
                    <summary>
                        <span>üíæ</span>
                        Export & Save
                    </summary>
                    <div class="details-content">
                        <div class="btn-group" style="flex-direction: column;">
                            <button class="btn" id="downloadTxtBtn" style="width: 100%; justify-content: center;">
                                <span>üìÑ</span> Download as TXT
                            </button>
                            <button class="btn" id="downloadStatsBtn" style="width: 100%; justify-content: center;">
                                <span>üìä</span> Download Statistics
                            </button>
                            <button class="btn" id="copyStatsBtn" style="width: 100%; justify-content: center;">
                                <span>üìã</span> Copy Statistics
                            </button>
                        </div>
                    </div>
                </details>

                <!-- Common Targets -->
                <details>
                    <summary>
                        <span>üìå</span>
                        Common Targets
                    </summary>
                    <div class="details-content">
                        <div style="display: grid; gap: 0.5rem; font-size: 0.85rem;">
                            <button class="btn" onclick="setTarget(150)" style="width: 100%; justify-content: space-between;">
                                <span>Social media post</span>
                                <span style="color: var(--jazer-cyan);">150 words</span>
                            </button>
                            <button class="btn" onclick="setTarget(300)" style="width: 100%; justify-content: space-between;">
                                <span>Short blog post</span>
                                <span style="color: var(--jazer-cyan);">300 words</span>
                            </button>
                            <button class="btn" onclick="setTarget(500)" style="width: 100%; justify-content: space-between;">
                                <span>Medium article</span>
                                <span style="color: var(--jazer-cyan);">500 words</span>
                            </button>
                            <button class="btn" onclick="setTarget(1000)" style="width: 100%; justify-content: space-between;">
                                <span>Long blog post</span>
                                <span style="color: var(--jazer-cyan);">1000 words</span>
                            </button>
                            <button class="btn" onclick="setTarget(2000)" style="width: 100%; justify-content: space-between;">
                                <span>Essay/Report</span>
                                <span style="color: var(--jazer-cyan);">2000 words</span>
                            </button>
                        </div>
                    </div>
                </details>
            </aside>
        </div>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-info">
                <div class="status-item">
                    <span class="label">Words/Min:</span>
                    <span class="value" id="wordsPerMin">0</span>
                </div>
                <div class="status-item">
                    <span class="label">Density:</span>
                    <span class="value" id="textDensity">Medium</span>
                </div>
                <div class="status-item">
                    <span class="label">Readability:</span>
                    <span class="value" id="readability">Good</span>
                </div>
                <div class="status-item">
                    <span class="label">Last Updated:</span>
                    <span class="value" id="lastUpdate">Now</span>
                </div>
            </div>
            <div class="status-indicator">
                <span class="status-dot"></span>
                <span>Word Counter Active</span>
            </div>
        </footer>
    </div>

    <script>
        // ==================== STATE ====================
        const state = {
            startTime: null,
            totalWords: 0
        };

        // ==================== DOM ELEMENTS ====================
        const inputText = document.getElementById('inputText');
        const wordCount = document.getElementById('wordCount');
        const charCount = document.getElementById('charCount');
        const sentenceCount = document.getElementById('sentenceCount');
        const paragraphCount = document.getElementById('paragraphCount');
        const readTime = document.getElementById('readTime');
        const speakTime = document.getElementById('speakTime');
        const charNoSpaces = document.getElementById('charNoSpaces');
        const charWithSpaces = document.getElementById('charWithSpaces');
        const lineCount = document.getElementById('lineCount');
        const uniqueWords = document.getElementById('uniqueWords');
        const avgWordLength = document.getElementById('avgWordLength');
        const longestWord = document.getElementById('longestWord');
        const readTimeDetailed = document.getElementById('readTimeDetailed');
        const speakTimeDetailed = document.getElementById('speakTimeDetailed');
        const avgSentenceLength = document.getElementById('avgSentenceLength');
        const keywordList = document.getElementById('keywordList');
        const targetWords = document.getElementById('targetWords');
        const progressFill = document.getElementById('progressFill');
        const progressPercent = document.getElementById('progressPercent');
        const wordsPerMin = document.getElementById('wordsPerMin');
        const textDensity = document.getElementById('textDensity');
        const readability = document.getElementById('readability');
        const lastUpdate = document.getElementById('lastUpdate');

        // ==================== SAMPLE TEXT ====================
        const sampleText = `Writing is an essential skill in today's digital age. Whether you're crafting a blog post, composing an email, or working on an academic paper, understanding your text statistics helps improve your writing quality.

This word counter tool provides comprehensive analysis of your text. It tracks basic metrics like word count and character count, but also offers advanced features like keyword density analysis and readability scores.

Professional writers use tools like this to ensure their content meets specific requirements. For instance, blog posts typically range from 500 to 2000 words, while academic essays may require 1500 to 5000 words. Social media posts, on the other hand, work best with concise 150-300 word counts.

The reading time estimate helps you gauge how long it will take your audience to consume your content. Most people read at about 200 words per minute, though this varies based on complexity and familiarity with the subject matter.

By tracking these metrics in real-time, you can make informed decisions about your writing and achieve your content goals more effectively.`;

        // ==================== ANALYSIS FUNCTIONS ====================
        function analyzeText() {
            const text = inputText.value;
            const timestamp = new Date();

            // Basic counts
            const words = text.trim() ? text.trim().split(/\s+/).filter(w => w.length > 0) : [];
            const chars = text.length;
            const charsNoSpace = text.replace(/\s/g, '').length;
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const paragraphs = text.split(/\n\n+/).filter(p => p.trim().length > 0);
            const lines = text.split('\n').length;

            // Update basic stats
            wordCount.textContent = words.length;
            charCount.textContent = chars;
            charWithSpaces.textContent = chars;
            charNoSpaces.textContent = charsNoSpace;
            sentenceCount.textContent = sentences.length;
            paragraphCount.textContent = paragraphs.length;
            lineCount.textContent = lines;

            // Reading/Speaking time (words per minute)
            const readingWPM = 200;
            const speakingWPM = 130;
            const readMinutes = Math.ceil(words.length / readingWPM);
            const speakMinutes = Math.ceil(words.length / speakingWPM);
            
            readTime.textContent = readMinutes;
            speakTime.textContent = speakMinutes;
            readTimeDetailed.textContent = `${readMinutes} min`;
            speakTimeDetailed.textContent = `${speakMinutes} min`;

            // Unique words
            const uniqueWordSet = new Set(words.map(w => w.toLowerCase()));
            uniqueWords.textContent = uniqueWordSet.size;

            // Average word length
            const totalChars = words.reduce((sum, word) => sum + word.length, 0);
            const avgLength = words.length > 0 ? (totalChars / words.length).toFixed(1) : 0;
            avgWordLength.textContent = avgLength;

            // Longest word
            const longest = words.reduce((max, word) => word.length > max.length ? word : max, '');
            longestWord.textContent = longest || '-';

            // Average sentence length
            const avgSentence = sentences.length > 0 ? (words.length / sentences.length).toFixed(1) : 0;
            avgSentenceLength.textContent = avgSentence;

            // Keyword density
            updateKeywordDensity(words);

            // Progress toward goal
            updateProgress(words.length);

            // Status bar metrics
            updateStatusMetrics(words, sentences, avgSentence);

            // Update timestamp
            lastUpdate.textContent = timestamp.toLocaleTimeString();
        }

        function updateKeywordDensity(words) {
            if (words.length === 0) {
                keywordList.innerHTML = '<div style="color: var(--text-muted); font-size: 0.85rem; padding: 1rem;">Type some text to see keyword analysis...</div>';
                return;
            }

            // Count word frequency (ignore common words)
            const stopWords = new Set(['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'from', 'as', 'is', 'was', 'are', 'were', 'been', 'be', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'may', 'might', 'can', 'this', 'that', 'these', 'those', 'i', 'you', 'he', 'she', 'it', 'we', 'they', 'your', 'my', 'his', 'her', 'its', 'our', 'their']);
            
            const wordFreq = {};
            words.forEach(word => {
                const lowerWord = word.toLowerCase().replace(/[^a-z0-9]/g, '');
                if (lowerWord.length > 2 && !stopWords.has(lowerWord)) {
                    wordFreq[lowerWord] = (wordFreq[lowerWord] || 0) + 1;
                }
            });

            // Sort by frequency and take top 15
            const sortedWords = Object.entries(wordFreq)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 15);

            if (sortedWords.length === 0) {
                keywordList.innerHTML = '<div style="color: var(--text-muted); font-size: 0.85rem; padding: 1rem;">No significant keywords found</div>';
                return;
            }

            keywordList.innerHTML = sortedWords.map(([word, count]) => `
                <div class="keyword-chip">
                    <span>${word}</span>
                    <span class="keyword-count">${count}</span>
                </div>
            `).join('');
        }

        function updateProgress(currentWords) {
            const target = parseInt(targetWords.value) || 500;
            const percent = Math.min(100, Math.round((currentWords / target) * 100));
            progressFill.style.width = percent + '%';
            progressPercent.textContent = percent + '%';
        }

        function updateStatusMetrics(words, sentences, avgSentence) {
            // Words per minute (if tracking session)
            if (state.startTime) {
                const elapsedMinutes = (Date.now() - state.startTime) / 60000;
                const wpm = elapsedMinutes > 0 ? Math.round(words.length / elapsedMinutes) : 0;
                wordsPerMin.textContent = wpm;
            } else {
                wordsPerMin.textContent = '0';
            }

            // Text density
            const density = words.length > 0 ? (words.length / sentences.length) : 0;
            if (density > 25) {
                textDensity.textContent = 'Dense';
                textDensity.style.color = 'var(--jazer-pink)';
            } else if (density > 15) {
                textDensity.textContent = 'Medium';
                textDensity.style.color = 'var(--jazer-cyan)';
            } else {
                textDensity.textContent = 'Light';
                textDensity.style.color = 'var(--jazer-purple)';
            }

            // Simple readability (based on avg sentence length)
            if (avgSentence > 25) {
                readability.textContent = 'Complex';
                readability.style.color = 'var(--jazer-pink)';
            } else if (avgSentence > 15) {
                readability.textContent = 'Good';
                readability.style.color = 'var(--jazer-cyan)';
            } else {
                readability.textContent = 'Easy';
                readability.style.color = 'var(--jazer-purple)';
            }
        }

        // ==================== EXPORT FUNCTIONS ====================
        function downloadText() {
            const blob = new Blob([inputText.value], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'text-document.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function downloadStats() {
            const stats = `TEXT STATISTICS
================

Basic Counts:
- Words: ${wordCount.textContent}
- Characters (with spaces): ${charWithSpaces.textContent}
- Characters (no spaces): ${charNoSpaces.textContent}
- Sentences: ${sentenceCount.textContent}
- Paragraphs: ${paragraphCount.textContent}
- Lines: ${lineCount.textContent}

Analysis:
- Unique words: ${uniqueWords.textContent}
- Average word length: ${avgWordLength.textContent} characters
- Longest word: ${longestWord.textContent}
- Average sentence length: ${avgSentenceLength.textContent} words

Reading Metrics:
- Reading time: ${readTimeDetailed.textContent}
- Speaking time: ${speakTimeDetailed.textContent}

Generated: ${new Date().toLocaleString()}
`;

            const blob = new Blob([stats], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'text-statistics.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        async function copyStats() {
            const stats = `Words: ${wordCount.textContent} | Characters: ${charCount.textContent} | Sentences: ${sentenceCount.textContent} | Paragraphs: ${paragraphCount.textContent} | Reading Time: ${readTime.textContent} min`;
            try {
                await navigator.clipboard.writeText(stats);
                const btn = document.getElementById('copyStatsBtn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<span>‚úì</span> Copied!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy:', err);
            }
        }

        // ==================== UTILITY FUNCTIONS ====================
        async function pasteText() {
            try {
                const text = await navigator.clipboard.readText();
                inputText.value = text;
                analyzeText();
            } catch (err) {
                console.error('Failed to paste:', err);
            }
        }

        function clearText() {
            inputText.value = '';
            state.startTime = null;
            analyzeText();
        }

        function loadSample() {
            inputText.value = sampleText;
            analyzeText();
        }

        function setTarget(target) {
            targetWords.value = target;
            updateProgress(parseInt(wordCount.textContent) || 0);
        }

        // ==================== EVENT LISTENERS ====================
        function init() {
            // Text input
            inputText.addEventListener('input', () => {
                if (!state.startTime && inputText.value.trim()) {
                    state.startTime = Date.now();
                }
                analyzeText();
            });

            // Buttons
            document.getElementById('clearBtn').addEventListener('click', clearText);
            document.getElementById('pasteBtn').addEventListener('click', pasteText);
            document.getElementById('sampleBtn').addEventListener('click', loadSample);
            document.getElementById('downloadTxtBtn').addEventListener('click', downloadText);
            document.getElementById('downloadStatsBtn').addEventListener('click', downloadStats);
            document.getElementById('copyStatsBtn').addEventListener('click', copyStats);

            // Target word count
            targetWords.addEventListener('input', () => {
                updateProgress(parseInt(wordCount.textContent) || 0);
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'l') {
                    e.preventDefault();
                    clearText();
                }
            });

            // Initial analysis
            analyzeText();
        }

        // ==================== INITIALIZE ====================
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>