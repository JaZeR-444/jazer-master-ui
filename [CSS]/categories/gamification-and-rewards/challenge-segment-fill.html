<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge Segment Fill - Gamification Component</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Hero Section */
        .hero {
            padding: 4rem 2rem 2rem;
            text-align: center;
            background: linear-gradient(180deg, rgba(147, 51, 234, 0.15) 0%, transparent 100%);
            border-bottom: 1px solid rgba(147, 51, 234, 0.3);
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            color: var(--jazer-cyan);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            color: var(--jazer-pink);
            transform: translateX(-5px);
        }

        h1 {
            font-family: var(--font-primary);
            font-size: clamp(2rem, 5vw, 3.5rem);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        /* Controls */
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            padding: 1.5rem 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(147, 51, 234, 0.2);
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .control-group label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .control-group select {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--jazer-purple);
            color: var(--text-light);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-group select:hover {
            border-color: var(--jazer-pink);
            box-shadow: 0 0 10px rgba(255, 0, 110, 0.3);
        }

        .trigger-btn {
            background: linear-gradient(135deg, var(--jazer-purple), var(--jazer-pink));
            border: none;
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .trigger-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.5);
        }

        /* Info Panel */
        .info-panel {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
            padding: 1rem 2rem;
            background: rgba(147, 51, 234, 0.1);
            border-bottom: 1px solid rgba(147, 51, 234, 0.3);
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-family: var(--font-primary);
            font-size: 1.25rem;
            color: var(--jazer-cyan);
            font-weight: bold;
        }

        .info-value.highlight {
            color: var(--jazer-pink);
        }

        .info-value.complete {
            color: #00ff88;
        }

        /* Demo Container */
        .demo-container {
            max-width: 1000px;
            margin: 3rem auto;
            padding: 0 2rem;
        }

        /* Challenge Card */
        .challenge-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(147, 51, 234, 0.3);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .challenge-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .challenge-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--jazer-purple), var(--jazer-pink));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.4);
        }

        .challenge-title {
            font-family: var(--font-primary);
            font-size: 1.3rem;
            color: var(--text-light);
            margin-bottom: 0.25rem;
        }

        .challenge-subtitle {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .challenge-reward {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .challenge-reward-icon {
            font-size: 1.2rem;
        }

        .challenge-reward-text {
            font-family: var(--font-primary);
            color: #ffd700;
            font-size: 0.9rem;
        }

        /* Segment Bar */
        .segment-bar-container {
            margin-bottom: 1.5rem;
        }

        .segment-bar {
            display: flex;
            gap: 6px;
            height: 40px;
            margin-bottom: 0.75rem;
        }

        .segment {
            flex: 1;
            background: rgba(147, 51, 234, 0.15);
            border: 2px solid rgba(147, 51, 234, 0.3);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .segment:hover {
            border-color: rgba(147, 51, 234, 0.6);
            transform: translateY(-2px);
        }

        .segment-fill {
            position: absolute;
            inset: 0;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .segment.filled .segment-fill {
            transform: scaleX(1);
        }

        /* Segment Styles */
        .segment-fill.style-neon {
            background: linear-gradient(90deg, var(--jazer-cyan), var(--jazer-purple));
            box-shadow: inset 0 0 15px rgba(6, 182, 212, 0.5);
        }

        .segment-fill.style-fire {
            background: linear-gradient(90deg, #ff4500, #ff6b00, #ffd700);
            box-shadow: inset 0 0 15px rgba(255, 107, 0, 0.5);
        }

        .segment-fill.style-emerald {
            background: linear-gradient(90deg, #00ff88, #00d4aa, #00f2ea);
            box-shadow: inset 0 0 15px rgba(0, 255, 136, 0.5);
        }

        .segment-fill.style-cosmic {
            background: linear-gradient(90deg, #9333ea, #c084fc, #e879f9);
            box-shadow: inset 0 0 15px rgba(147, 51, 234, 0.5);
        }

        .segment-fill.style-gold {
            background: linear-gradient(90deg, #ffd700, #ffb347, #ffa500);
            box-shadow: inset 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Segment Shine */
        .segment-shine {
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            opacity: 0;
        }

        .segment.filled .segment-shine {
            animation: segmentShine 1s 0.3s ease forwards;
        }

        @keyframes segmentShine {
            0% { left: -100%; opacity: 1; }
            100% { left: 200%; opacity: 0; }
        }

        /* Segment Number */
        .segment-number {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-primary);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.4);
            z-index: 2;
            transition: all 0.3s ease;
        }

        .segment.filled .segment-number {
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* Segment Glow */
        .segment.filled {
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.4);
        }

        .segment.filled.style-fire {
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.4);
        }

        .segment.filled.style-emerald {
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
        }

        /* Milestone Markers */
        .milestone-markers {
            display: flex;
            justify-content: space-between;
            padding: 0 4px;
        }

        .milestone-marker {
            text-align: center;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.4);
            flex: 1;
        }

        .milestone-marker.reached {
            color: var(--jazer-cyan);
        }

        /* Challenge Progress */
        .challenge-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-text {
            font-family: var(--font-primary);
            font-size: 1.1rem;
        }

        .progress-text span {
            color: var(--jazer-cyan);
        }

        .claim-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            border: none;
            color: #0a0a0f;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9rem;
            opacity: 0.5;
            pointer-events: none;
            transition: all 0.3s ease;
        }

        .claim-btn.active {
            opacity: 1;
            pointer-events: auto;
            animation: claimPulse 1.5s infinite;
        }

        .claim-btn.active:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }

        @keyframes claimPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.8); }
        }

        /* Multi-Challenge View */
        .challenge-list {
            display: grid;
            gap: 1.5rem;
        }

        .mini-challenge {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(147, 51, 234, 0.2);
            border-radius: 12px;
            padding: 1.25rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .mini-challenge:hover {
            border-color: var(--jazer-purple);
            transform: translateX(5px);
        }

        .mini-challenge-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .mini-challenge-content {
            flex: 1;
        }

        .mini-challenge-title {
            font-size: 0.95rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .mini-segment-bar {
            display: flex;
            gap: 3px;
            height: 8px;
        }

        .mini-segment {
            flex: 1;
            background: rgba(147, 51, 234, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .mini-segment.filled {
            background: linear-gradient(90deg, var(--jazer-cyan), var(--jazer-purple));
        }

        .mini-challenge-reward {
            font-family: var(--font-primary);
            font-size: 0.85rem;
            color: #ffd700;
            white-space: nowrap;
        }

        /* Completion Effect */
        .completion-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .completion-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .completion-content {
            text-align: center;
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .completion-overlay.active .completion-content {
            transform: scale(1);
        }

        .completion-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: completionBounce 0.6s ease;
        }

        @keyframes completionBounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .completion-title {
            font-family: var(--font-primary);
            font-size: 2rem;
            color: #ffd700;
            margin-bottom: 0.5rem;
        }

        .completion-reward {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
        }

        .completion-close {
            background: linear-gradient(135deg, var(--jazer-cyan), var(--jazer-purple));
            border: none;
            color: white;
            padding: 1rem 3rem;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .completion-close:hover {
            transform: scale(1.1);
        }

        /* Mobile */
        @media (max-width: 768px) {
            .hero {
                padding: 3rem 1rem 1.5rem;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .control-group {
                justify-content: space-between;
            }

            .demo-container {
                padding: 0 1rem;
            }

            .challenge-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .challenge-info {
                flex-direction: column;
            }

            .segment-bar {
                gap: 4px;
                height: 35px;
            }

            .segment-number {
                font-size: 0.75rem;
            }

            .challenge-progress {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Completion Overlay -->
    <div class="completion-overlay" id="completionOverlay">
        <div class="completion-content">
            <div class="completion-icon">üèÜ</div>
            <div class="completion-title">Challenge Complete!</div>
            <div class="completion-reward">+500 Gems Earned</div>
            <button class="completion-close" id="completionClose">Awesome!</button>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <a href="index.html" class="back-button">‚Üê Back to Gamification</a>
        <h1>Challenge Segment Fill</h1>
        <p class="subtitle">Segmented progress bars for multi-step challenges with satisfying fill animations and milestone rewards.</p>
    </section>

    <!-- Controls -->
    <div class="controls">
        <div class="control-group">
            <label>Style:</label>
            <select id="styleSelect">
                <option value="neon">Neon</option>
                <option value="fire">Fire</option>
                <option value="emerald">Emerald</option>
                <option value="cosmic">Cosmic</option>
                <option value="gold">Gold</option>
            </select>
        </div>
        <div class="control-group">
            <label>Segments:</label>
            <select id="segmentSelect">
                <option value="5">5 Segments</option>
                <option value="7" selected>7 Segments</option>
                <option value="10">10 Segments</option>
            </select>
        </div>
        <div class="control-group">
            <label>Animation:</label>
            <select id="animSelect">
                <option value="sequential">Sequential</option>
                <option value="burst">Burst</option>
                <option value="wave">Wave</option>
            </select>
        </div>
        <button class="trigger-btn" id="addProgressBtn">Add Progress</button>
        <button class="trigger-btn" id="completeBtn">Complete All</button>
        <button class="trigger-btn" id="resetBtn" style="background: linear-gradient(135deg, #374151, #1f2937);">Reset</button>
    </div>

    <!-- Info Panel -->
    <div class="info-panel">
        <div class="info-item">
            <div class="info-label">Progress</div>
            <div class="info-value" id="progressDisplay">0/7</div>
        </div>
        <div class="info-item">
            <div class="info-label">Percentage</div>
            <div class="info-value highlight" id="percentDisplay">0%</div>
        </div>
        <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value" id="statusDisplay">In Progress</div>
        </div>
        <div class="info-item">
            <div class="info-label">Completions</div>
            <div class="info-value" id="completionCount">0</div>
        </div>
    </div>

    <!-- Demo Container -->
    <div class="demo-container">
        <!-- Main Challenge Card -->
        <div class="challenge-card">
            <div class="challenge-header">
                <div class="challenge-info">
                    <div class="challenge-icon">‚öîÔ∏è</div>
                    <div>
                        <div class="challenge-title">Daily Combat Challenge</div>
                        <div class="challenge-subtitle">Defeat enemies to earn rewards</div>
                    </div>
                </div>
                <div class="challenge-reward">
                    <span class="challenge-reward-icon">üíé</span>
                    <span class="challenge-reward-text">500 Gems</span>
                </div>
            </div>

            <div class="segment-bar-container">
                <div class="segment-bar" id="segmentBar">
                    <!-- Segments generated by JS -->
                </div>
                <div class="milestone-markers" id="milestoneMarkers">
                    <!-- Markers generated by JS -->
                </div>
            </div>

            <div class="challenge-progress">
                <div class="progress-text">
                    <span id="filledCount">0</span> / <span id="totalCount">7</span> Complete
                </div>
                <button class="claim-btn" id="claimBtn">Claim Reward</button>
            </div>
        </div>

        <!-- Additional Challenges -->
        <h3 style="color: var(--jazer-purple); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 1px;">More Challenges</h3>
        <div class="challenge-list" id="challengeList">
            <!-- Generated by JS -->
        </div>
    </div>

    <script>
        // State
        let currentStyle = 'neon';
        let totalSegments = 7;
        let filledSegments = 0;
        let animationType = 'sequential';
        let completionCount = 0;

        // Challenge data
        const challenges = [
            { icon: 'üó°Ô∏è', title: 'Win 5 Battles', total: 5, filled: 3, reward: '200', color: '#ff4500' },
            { icon: 'üéØ', title: 'Complete 10 Quests', total: 10, filled: 7, reward: '350', color: '#00f2ea' },
            { icon: '‚≠ê', title: 'Earn 3 Stars', total: 3, filled: 3, reward: '150', color: '#ffd700' },
            { icon: 'üèÉ', title: 'Run 8 Missions', total: 8, filled: 2, reward: '400', color: '#9333ea' }
        ];

        // DOM
        const segmentBar = document.getElementById('segmentBar');
        const milestoneMarkers = document.getElementById('milestoneMarkers');
        const completionOverlay = document.getElementById('completionOverlay');

        // Render segments
        function renderSegments() {
            segmentBar.innerHTML = '';
            milestoneMarkers.innerHTML = '';

            for (let i = 0; i < totalSegments; i++) {
                // Segment
                const segment = document.createElement('div');
                segment.className = 'segment';
                if (i < filledSegments) {
                    segment.classList.add('filled', `style-${currentStyle}`);
                }
                segment.innerHTML = `
                    <div class="segment-fill style-${currentStyle}"></div>
                    <div class="segment-shine"></div>
                    <div class="segment-number">${i + 1}</div>
                `;
                segment.addEventListener('click', () => fillToSegment(i + 1));
                segmentBar.appendChild(segment);

                // Milestone marker
                const marker = document.createElement('div');
                marker.className = `milestone-marker ${i < filledSegments ? 'reached' : ''}`;
                marker.textContent = i === 0 ? 'Start' : i === totalSegments - 1 ? 'Goal' : '';
                milestoneMarkers.appendChild(marker);
            }

            updateDisplays();
        }

        // Fill to specific segment
        function fillToSegment(target) {
            if (target <= filledSegments) return;

            const segments = segmentBar.querySelectorAll('.segment');
            
            if (animationType === 'sequential') {
                // Fill one by one
                let delay = 0;
                for (let i = filledSegments; i < target; i++) {
                    setTimeout(() => {
                        segments[i].classList.add('filled', `style-${currentStyle}`);
                        filledSegments = i + 1;
                        updateDisplays();
                        
                        if (filledSegments === totalSegments) {
                            setTimeout(triggerCompletion, 500);
                        }
                    }, delay);
                    delay += 200;
                }
            } else if (animationType === 'burst') {
                // Fill all at once
                for (let i = filledSegments; i < target; i++) {
                    segments[i].classList.add('filled', `style-${currentStyle}`);
                }
                filledSegments = target;
                updateDisplays();
                
                if (filledSegments === totalSegments) {
                    setTimeout(triggerCompletion, 500);
                }
            } else if (animationType === 'wave') {
                // Wave effect
                let delay = 0;
                for (let i = filledSegments; i < target; i++) {
                    setTimeout(() => {
                        segments[i].classList.add('filled', `style-${currentStyle}`);
                        segments[i].style.animation = 'waveSegment 0.5s ease';
                        filledSegments = i + 1;
                        updateDisplays();
                        
                        if (filledSegments === totalSegments) {
                            setTimeout(triggerCompletion, 500);
                        }
                    }, delay);
                    delay += 100;
                }
            }
        }

        // Add wave animation
        const waveStyle = document.createElement('style');
        waveStyle.textContent = `
            @keyframes waveSegment {
                0% { transform: scaleY(1); }
                50% { transform: scaleY(1.2); }
                100% { transform: scaleY(1); }
            }
        `;
        document.head.appendChild(waveStyle);

        // Add single progress
        function addProgress() {
            if (filledSegments < totalSegments) {
                fillToSegment(filledSegments + 1);
            }
        }

        // Complete all
        function completeAll() {
            fillToSegment(totalSegments);
        }

        // Reset
        function resetProgress() {
            filledSegments = 0;
            renderSegments();
            document.getElementById('claimBtn').classList.remove('active');
        }

        // Update displays
        function updateDisplays() {
            const percent = Math.round((filledSegments / totalSegments) * 100);
            
            document.getElementById('progressDisplay').textContent = `${filledSegments}/${totalSegments}`;
            document.getElementById('percentDisplay').textContent = `${percent}%`;
            document.getElementById('filledCount').textContent = filledSegments;
            document.getElementById('totalCount').textContent = totalSegments;
            
            // Update milestone markers
            const markers = milestoneMarkers.querySelectorAll('.milestone-marker');
            markers.forEach((marker, i) => {
                marker.classList.toggle('reached', i < filledSegments);
            });

            // Update status
            const statusEl = document.getElementById('statusDisplay');
            const claimBtn = document.getElementById('claimBtn');
            
            if (filledSegments === totalSegments) {
                statusEl.textContent = 'Complete!';
                statusEl.className = 'info-value complete';
                claimBtn.classList.add('active');
            } else {
                statusEl.textContent = 'In Progress';
                statusEl.className = 'info-value';
                claimBtn.classList.remove('active');
            }
        }

        // Trigger completion
        function triggerCompletion() {
            completionCount++;
            document.getElementById('completionCount').textContent = completionCount;
        }

        // Show completion overlay
        function showCompletion() {
            completionOverlay.classList.add('active');
        }

        // Render mini challenges
        function renderChallenges() {
            const list = document.getElementById('challengeList');
            list.innerHTML = '';

            challenges.forEach(challenge => {
                const div = document.createElement('div');
                div.className = 'mini-challenge';
                
                const segments = [];
                for (let i = 0; i < challenge.total; i++) {
                    segments.push(`<div class="mini-segment ${i < challenge.filled ? 'filled' : ''}"></div>`);
                }
                
                div.innerHTML = `
                    <div class="mini-challenge-icon" style="background: linear-gradient(135deg, ${challenge.color}, rgba(0,0,0,0.3));">
                        ${challenge.icon}
                    </div>
                    <div class="mini-challenge-content">
                        <div class="mini-challenge-title">${challenge.title}</div>
                        <div class="mini-segment-bar">
                            ${segments.join('')}
                        </div>
                    </div>
                    <div class="mini-challenge-reward">üíé ${challenge.reward}</div>
                `;
                
                list.appendChild(div);
            });
        }

        // Event listeners
        document.getElementById('addProgressBtn').addEventListener('click', addProgress);
        document.getElementById('completeBtn').addEventListener('click', completeAll);
        document.getElementById('resetBtn').addEventListener('click', resetProgress);
        
        document.getElementById('claimBtn').addEventListener('click', () => {
            if (filledSegments === totalSegments) {
                showCompletion();
            }
        });

        document.getElementById('completionClose').addEventListener('click', () => {
            completionOverlay.classList.remove('active');
            resetProgress();
        });

        document.getElementById('styleSelect').addEventListener('change', (e) => {
            currentStyle = e.target.value;
            renderSegments();
            // Re-fill segments with new style
            const temp = filledSegments;
            filledSegments = 0;
            renderSegments();
            setTimeout(() => fillToSegment(temp), 100);
        });

        document.getElementById('segmentSelect').addEventListener('change', (e) => {
            totalSegments = parseInt(e.target.value);
            filledSegments = 0;
            renderSegments();
        });

        document.getElementById('animSelect').addEventListener('change', (e) => {
            animationType = e.target.value;
        });

        // Keyboard
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                addProgress();
            }
        });

        // Initialize
        renderSegments();
        renderChallenges();
    </script>
</body>
</html>
