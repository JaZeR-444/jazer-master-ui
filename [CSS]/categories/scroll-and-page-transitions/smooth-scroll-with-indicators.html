<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smooth Scroll with Progress Indicators</title>
    <style>
        /* General body styling for demonstration */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }

        /* Container for the entire example */
        .smooth-scroll-container {
            max-width: 900px;
            margin: 40px auto;
            background-color: #fff;
            padding: 30px 50px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }

        /* Section styling */
        .scroll-section {
            padding: 60px 0;
            border-bottom: 1px solid #eee;
            scroll-margin-top: 50px; /* Offset for fixed header/nav if present */
        }

        .scroll-section:last-of-type {
            border-bottom: none;
        }

        .scroll-section h2 {
            color: #3498db;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .scroll-section p {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        /* Navigation for indicators */
        .scroll-nav {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .scroll-nav-item {
            display: block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ccc;
            border: 2px solid #ccc;
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            position: relative;
            outline: none; /* For accessibility */
        }

        .scroll-nav-item:hover {
            background-color: #999;
            border-color: #999;
            transform: scale(1.1);
        }

        .scroll-nav-item.active {
            background-color: #3498db;
            border-color: #3498db;
            transform: scale(1.2);
        }

        .scroll-nav-item::before {
            content: attr(data-tooltip);
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 5px 10px;
            border-radius: 4px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .scroll-nav-item:hover::before {
            opacity: 1;
            visibility: visible;
        }

        /* Smooth scrolling behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .smooth-scroll-container {
                margin: 20px auto;
                padding: 20px 30px;
            }

            .scroll-nav {
                right: 10px;
                gap: 10px;
            }

            .scroll-nav-item {
                width: 10px;
                height: 10px;
            }

            .scroll-nav-item::before {
                font-size: 0.9em;
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8em;
            }
            .scroll-section h2 {
                font-size: 1.5em;
            }
            .scroll-section p {
                font-size: 1em;
            }
            .scroll-nav {
                display: none; /* Hide navigation on very small screens if space is an issue */
            }
        }
    </style>
</head>
<body>
    <div class="smooth-scroll-container">
        <h1>Explore Our Sections with Smooth Scrolling</h1>

        <div id="section1" class="scroll-section">
            <h2>Section One: Introduction</h2>
            <p>Welcome to the first section of our smoothly scrollable content. Here, we introduce the concept of modern web interactions and user experience enhancements. The goal is to provide a seamless navigation experience across different parts of a lengthy document or single-page application.</p>
            <p>This component demonstrates how to implement smooth scrolling using pure CSS (<code>scroll-behavior: smooth;</code>) combined with JavaScript for interactive progress indicators. These indicators visually inform the user about their current position within the document, improving overall usability.</p>
            <p>We believe that thoughtful UI/UX design is crucial for engaging users. Elements like smooth scrolling and clear navigation cues contribute significantly to a positive user journey. Enjoy exploring!</p>
        </div>

        <div id="section2" class="scroll-section">
            <h2>Section Two: Core Features</h2>
            <p>In this section, we delve into the core features that make this smooth scroll component stand out. Beyond the basic scroll behavior, we've integrated intelligent progress indicators that update in real-time as you navigate through the page.</p>
            <ul>
                <li><strong>CSS-driven Smoothness:</strong> Leveraging modern CSS properties for native-like scroll animations.</li>
                <li><strong>JavaScript for Interactivity:</strong> Scripting ensures indicators light up as their corresponding sections come into view.</li>
                <li><strong>Accessibility Conscious:</strong> Semantic HTML and keyboard navigability are considered to ensure broad usability.</li>
                <li><strong>Responsive Design:</strong> Adapts gracefully to various screen sizes, from desktops to mobile devices.</li>
            </ul>
            <p>These features work in harmony to deliver a polished and professional feel to any web project. Our aim is to provide robust, vanilla code snippets that are easy to understand and integrate.</p>
        </div>

        <div id="section3" class="scroll-section">
            <h2>Section Three: Implementation Details</h2>
            <p>Understanding the "how-to" is just as important as knowing the "what." This section breaks down the key implementation details for integrating this component into your own projects.</p>
            <p>The CSS part is straightforward: applying <code>scroll-behavior: smooth;</code> to the <code>html</code> element is the primary step. For the indicators, JavaScript listens to the <code>scroll</code> event on the window. It then calculates which section is currently in the viewport and updates the navigation dots accordingly.</p>
            <p>We use <code>IntersectionObserver</code> API for a more performant and accurate way to detect when a section enters or leaves the viewport, avoiding heavy scroll event listeners. Each navigation dot is linked to its respective section via data attributes and IDs.</p>
            <p>Careful attention is paid to performance, ensuring that the script runs efficiently without causing jank or slowdowns, even on less powerful devices. Optimizing event listeners and DOM manipulations is key.</p>
        </div>

        <div id="section4" class="scroll-section">
            <h2>Section Four: Customization and Usage</h2>
            <p>Flexibility is at the heart of our design philosophy. This section outlines how you can easily customize and adapt this smooth scroll component to fit your specific project needs.</p>
            <p>You can modify the colors, sizes, and positioning of the navigation indicators by adjusting the CSS variables or direct styles. Adding more sections is as simple as duplicating the <code>.scroll-section</code> div and ensuring each has a unique ID and a corresponding entry in the navigation.</p>
            <p>The JavaScript is structured to be modular, making it easy to extend or modify its behavior. For example, you might want to add additional animations to the indicators or integrate it with a different navigation pattern.</p>
            <p>Feel free to experiment with different scroll offsets, especially if you have a fixed header or footer on your page. The <code>scroll-margin-top</code> CSS property on sections is particularly useful for this, ensuring content doesn't get hidden behind fixed elements when navigating.</p>
        </div>

        <div id="section5" class="scroll-section">
            <h2>Section Five: Conclusion and Future Enhancements</h2>
            <p>Thank you for exploring our smooth scroll with progress indicators component. We hope this example provides a valuable resource for your front-end development endeavors.</p>
            <p>We are continuously working on improving and expanding our library of vanilla components. Future enhancements for this specific component might include more diverse indicator styles, improved keyboard navigation, and perhaps integration with URL hash updates without page reloads for better bookmarking.</p>
            <p>Your feedback is always welcome and helps us refine our offerings. Feel free to adapt this component to your projects and share your creative implementations. Happy coding!</p>
        </div>
    </div>

    <!-- Navigation Indicators -->
    <nav class="scroll-nav">
        <a href="#section1" class="scroll-nav-item" data-tooltip="Introduction"></a>
        <a href="#section2" class="scroll-nav-item" data-tooltip="Features"></a>
        <a href="#section3" class="scroll-nav-item" data-tooltip="Implementation"></a>
        <a href="#section4" class="scroll-nav-item" data-tooltip="Customization"></a>
        <a href="#section5" class="scroll-nav-item" data-tooltip="Conclusion"></a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.scroll-section');
            const navItems = document.querySelectorAll('.scroll-nav-item');

            // Options for the Intersection Observer
            const observerOptions = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% of the section is visible
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Remove active class from all nav items
                        navItems.forEach(item => item.classList.remove('active'));

                        // Add active class to the corresponding nav item
                        const targetId = entry.target.id;
                        const activeNavItem = document.querySelector(`.scroll-nav-item[href="#${targetId}"]`);
                        if (activeNavItem) {
                            activeNavItem.classList.add('active');
                        }
                    }
                });
            }, observerOptions);

            // Observe each section
            sections.forEach(section => {
                observer.observe(section);
            });

            // Smooth scroll on nav item click
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default anchor jump
                    const targetId = item.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Set initial active state based on current scroll position
            // This is useful if the page loads in the middle or if scrolled before JS loads
            const setInitialActive = () => {
                let currentActiveSection = null;
                for (let i = sections.length - 1; i >= 0; i--) {
                    const section = sections[i];
                    const rect = section.getBoundingClientRect();
                    // If the section is at least partially in view and its top is above or near the viewport top
                    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                        currentActiveSection = section.id;
                        break;
                    }
                }

                navItems.forEach(item => item.classList.remove('active'));
                if (currentActiveSection) {
                    const activeNavItem = document.querySelector(`.scroll-nav-item[href="#${currentActiveSection}"]`);
                    if (activeNavItem) {
                        activeNavItem.classList.add('active');
                    }
                } else if (sections.length > 0) {
                    // Default to first item if no section is active (e.g., at very top of page)
                    document.querySelector('.scroll-nav-item[href="#' + sections[0].id + '"]').classList.add('active');
                }
            };

            // Call it on load
            setInitialActive();
            // Also call on scroll in case IntersectionObserver doesn't catch the very beginning/end
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(setInitialActive, 100); // Debounce for performance
            });
        });
    </script>
</body>
</html>