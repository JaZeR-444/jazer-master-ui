<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Poi Category Filter - JaZeR Maps Patterns</title>
  <link rel="stylesheet" href="../../../jazer-brand.css">
  <style>
    *{box-sizing:border-box}
    body{font-family:var(--font-body);background:var(--bg-dark);color:var(--text-light);margin:0;padding:1.25rem}
    .back-button{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-gray);text-decoration:none;font-family:var(--font-secondary);font-weight:600;padding:.5rem 1rem;border-radius:8px;border:1px solid var(--border-default);background:var(--bg-card)}
    .back-button:hover{border-color:var(--jazer-cyan);color:var(--jazer-cyan)}

    .hero{text-align:center;margin:1rem 0}
    .hero h1{font-size:clamp(1.75rem,3.5vw,2.5rem);background:var(--gradient-text);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .hero p{color:var(--text-gray);max-width:760px;margin:.4rem auto}

    .panel{max-width:900px;margin:0 auto;background:var(--bg-card);border-radius:12px;padding:1rem;border:2px solid var(--border-default)}
    .chips{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.6rem}
    .chip{padding:.35rem .6rem;border-radius:999px;border:1px solid var(--border-default);background:transparent;color:var(--text-light);cursor:pointer}
    .chip.active{border-color:var(--jazer-cyan);background:rgba(0,242,234,0.05);color:var(--jazer-cyan)}

    .map-mock{height:560px;border-radius:12px;border:1px solid var(--border-default);background:linear-gradient(90deg,rgba(0,0,0,0.35),rgba(0,0,0,0.45));display:flex;align-items:center;justify-content:center;margin-top:.6rem}

    .result-list{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}
    .result{padding:.35rem .6rem;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid var(--border-default)}
  </style>
</head>
<body>
  <a href="index.html" class="back-button">‚Üê Back to Maps & Geolocation</a>
  <header class="hero">
    <h1>POI Category Filter</h1>
    <p>Filter points of interest using category chips, include multi-select, and toggle markers on the mock map.</p>
  </header>

  <div class="panel">
    <div class="chips" id="chips"></div>
    <div class="small muted">Selected: <span id="selectedCount">0</span></div>
    <div class="result-list" id="results"></div>
    <div class="map-mock" id="mapMock">Map mock area</div>
  </div>

  <script>
    const categories = ['food','hotel','park','market','business','transport','entertainment'];
    const chips = document.getElementById('chips'); const results = document.getElementById('results'); const mapMock = document.getElementById('mapMock'); const selectedCount = document.getElementById('selectedCount');
    const POIS = Array.from({length:30}, (_,i)=>({ id:i+1, category: categories[i % categories.length], title: `${categories[i % categories.length]} place ${i+1}`, lat: 40 + Math.random()*2, lon: -73 + Math.random()*2 }));
    const active = new Set();

    function renderChips(){ chips.innerHTML = ''; categories.forEach(cat=>{ const b = document.createElement('button'); b.className = 'chip'; b.textContent = cat; b.dataset.cat = cat; b.addEventListener('click', ()=>{ if(active.has(cat)){ active.delete(cat); b.classList.remove('active'); } else { active.add(cat); b.classList.add('active'); } renderResults(); }); chips.appendChild(b); }); }

    function renderResults(){ const activeCats = Array.from(active); const list = activeCats.length ? POIS.filter(p=>activeCats.includes(p.category)) : POIS; results.innerHTML=''; list.slice(0,20).forEach(p=>{ const r = document.createElement('div'); r.className = 'result'; r.innerHTML = `<strong>${p.title}</strong> <div class='small muted'>${p.category}</div>`; results.appendChild(r); }); selectedCount.textContent = list.length; mapMock.innerHTML = `<div style='text-align:center'><div style='font-weight:700'>Showing ${list.length} POIs</div><div class='small muted'>Active categories: ${active.size || 'All'}</div></div>`; }

    renderChips(); renderResults();
  </script>
</body>
</html>