<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Map Heatmap Overlay - JaZeR Maps Patterns</title>
  <link rel="stylesheet" href="../../../jazer-brand.css">
  <style>
    *{box-sizing:border-box}
    body{font-family:var(--font-body);background:var(--bg-dark);color:var(--text-light);margin:0;padding:1.25rem}
    .back-button{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-gray);text-decoration:none;font-family:var(--font-secondary);font-weight:600;padding:.5rem 1rem;border-radius:8px;border:1px solid var(--border-default);background:var(--bg-card)}
    .back-button:hover{border-color:var(--jazer-cyan);color:var(--jazer-cyan)}

    .hero{text-align:center;margin:1rem 0}
    .hero h1{font-size:clamp(1.75rem,3.5vw,2.5rem);background:var(--gradient-text);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .hero p{color:var(--text-gray);max-width:760px;margin:.4rem auto}

    .layout{display:grid;grid-template-columns:360px 1fr;gap:1rem;max-width:1400px;margin:0 auto}
    @media (max-width:900px){.layout{grid-template-columns:1fr}}

    .panel{background:var(--bg-card);border-radius:12px;padding:1rem;border:2px solid var(--border-default);box-shadow:var(--shadow-card)}
    .map-area{height:640px;border-radius:12px;border:1px solid var(--border-default);background:linear-gradient(90deg, rgba(0,0,0,0.35), rgba(0,0,0,0.45));position:relative;overflow:hidden}

    .controls{display:flex;flex-direction:column;gap:.5rem}
    .row{display:flex;gap:.5rem;align-items:center}
    .label{min-width:80px;color:var(--text-gray)}
    .slider{flex:1}
    .btn{padding:.45rem .6rem;border-radius:8px;border:none;background:var(--gradient-accent);color:var(--text-light);font-weight:700;cursor:pointer}
    .btn-ghost{padding:.4rem .6rem;border-radius:8px;border:1px solid var(--border-default);background:transparent;color:var(--text-light)}
    .small{font-size:.85rem;color:var(--text-gray)}

    .legend{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
  </style>
</head>
<body>
  <a href="index.html" class="back-button">← Back to Maps & Geolocation</a>
  <header class="hero">
    <h1>Map Heatmap Overlay</h1>
    <p>Visualize density with control over radius, intensity, gradient, and toggles for the overlay layer.</p>
  </header>

  <main class="layout">
    <aside class="panel">
      <div style="font-weight:700;margin-bottom:.5rem">Heatmap Controls</div>
      <div class="controls">
        <div class="row"><div class="label">Radius</div><input id="radius" class="slider" type="range" min="10" max="60" value="30"></div>
        <div class="row"><div class="label">Intensity</div><input id="intensity" class="slider" type="range" min="1" max="10" value="4"></div>
        <div class="row"><div class="label">Gradient</div><select id="gradient" class="btn-ghost"><option value="hot">Hot</option><option value="cool">Cool</option><option value="purple">Purple</option></select></div>
        <div class="row"><div class="label">Opacity</div><input id="opacity" class="slider" type="range" min="10" max="100" value="80"></div>
        <div class="row"><div class="label">Show</div><label><input id="toggleHeat" type="checkbox" checked> Heatmap</label></div>
        <div style="display:flex;gap:.5rem;margin-top:.5rem"><button id="reset" class="btn-ghost">Reset</button><button id="apply" class="btn">Apply</button></div>
        <div style="margin-top:.5rem"><div class="small">Legend</div><div class="legend" id="legendArea"><div class="small">Low</div><div style="width:120px;height:6px;background:linear-gradient(90deg,#00f2ea,#9333ea);border-radius:4px;border:1px solid var(--border-default)"></div><div class="small">High</div></div></div>
      </div>
    </aside>

    <section class="panel map-area">
      <div id="heatmapCanvas" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--text-gray);">Heatmap canvas</div>
    </section>
  </main>

  <script>
    const radius = document.getElementById('radius'); const intensity = document.getElementById('intensity'); const opacity = document.getElementById('opacity'); const gradient = document.getElementById('gradient'); const toggleHeat = document.getElementById('toggleHeat'); const canvasEl = document.getElementById('heatmapCanvas');
    function renderHeat(){ const r = radius.value; const i = intensity.value; const op = opacity.value; const g = gradient.value; const show = toggleHeat.checked; canvasEl.innerHTML = `<div style='text-align:center'><div style='font-weight:700;margin-bottom:.25rem'>Heatmap - ${show ? 'Visible' : 'Hidden'}</div><div style='color:var(--text-gray)'>Radius: ${r}px • Intensity: ${i} • Opacity: ${op}% • Gradient: ${g}</div></div>`; }
    document.getElementById('apply').addEventListener('click', renderHeat); document.getElementById('reset').addEventListener('click', ()=>{ radius.value=30; intensity.value=4; opacity.value=80; gradient.value='hot'; toggleHeat.checked=true; renderHeat(); });
    renderHeat();
  </script>

</body>
</html>