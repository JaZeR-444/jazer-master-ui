<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Location Share Button - JaZeR Maps Patterns</title>
  <link rel="stylesheet" href="../../../jazer-brand.css">
  <style>
    *{box-sizing:border-box}
    body{font-family:var(--font-body);background:var(--bg-dark);color:var(--text-light);margin:0;padding:1.25rem}
    .back-button{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-gray);text-decoration:none;font-family:var(--font-secondary);font-weight:600;padding:.5rem 1rem;border-radius:8px;border:1px solid var(--border-default);background:var(--bg-card)}
    .back-button:hover{border-color:var(--jazer-cyan);color:var(--jazer-cyan)}

    .hero{text-align:center;margin:1rem 0}
    .hero h1{font-size:clamp(1.75rem,3.5vw,2.5rem);background:var(--gradient-text);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .hero p{color:var(--text-gray);max-width:760px;margin:.4rem auto}

    .styles-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;max-width:1400px;margin:0 auto}
    .style-card{background:var(--bg-card);border-radius:12px;padding:1rem;border:2px solid var(--border-default);box-shadow:var(--shadow-card)}
    .style-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}
    .style-number{width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:8px;font-weight:800}
    .style-title{font-family:var(--font-secondary);font-weight:700}
    .style-demo{padding:1rem;background:rgba(0,0,0,0.3);border-radius:10px;min-height:140px;display:flex;flex-direction:column;gap:.75rem;align-items:center}

    .btn-share{display:inline-flex;align-items:center;gap:.6rem;padding:.5rem .9rem;border-radius:10px;font-weight:700;border:none;cursor:pointer}
    .btn-share.primary{background:var(--gradient-accent);color:var(--text-light)}
    .btn-share.ghost{background:transparent;border:1px solid var(--border-default);color:var(--text-light)}

    .dropdown{position:relative}
    .menu{position:absolute;top:calc(100% + 8px);left:0;background:var(--bg-dark);border:1px solid var(--border-default);border-radius:8px;min-width:200px;box-shadow:0 12px 40px rgba(0,0,0,0.6);z-index:50;padding:.5rem}
    .menu-item{display:flex;align-items:center;gap:.5rem;padding:.55rem;border-radius:8px;cursor:pointer}
    .menu-item:hover{background:rgba(0,242,234,0.04)}

    .popover{position:relative}
    .popover-content{position:absolute;top:calc(100%+8px);left:50%;transform:translateX(-50%);background:var(--bg-card);padding:.75rem;border-radius:10px;border:1px solid var(--border-default);width:260px;box-shadow:var(--shadow-card)}

    .muted{color:var(--text-gray);font-size:.9rem}
    .small{font-size:.85rem;color:var(--text-gray)}

    .hint{text-align:center;color:var(--text-gray);font-size:.85rem}

  </style>
</head>
<body>
  <a href="index.html" class="back-button">‚Üê Back to Maps & Geolocation</a>
  <header class="hero">
    <h1>Location Share Button</h1>
    <p>Compact share button with multiple targets, copy action, and an advanced sharing modal. Demonstrates quick share vs detailed share workflows.</p>
  </header>

  <main class="styles-grid">
    <section class="style-card">
      <div class="style-header"><span class="style-number">01</span><span class="style-title">Primary Action</span></div>
      <div class="style-demo">
        <div class="popover">
          <button id="btnPrimary" class="btn-share primary" aria-expanded="false" aria-haspopup="dialog">üìç Share Location</button>
          <div class="popover-content" id="pcPrimary" hidden>
            <div style="display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem"><div class="small">Share Link</div><div style="margin-left:auto" class="muted">24h</div></div>
            <div style="display:flex;gap:.5rem;margin-bottom:.5rem"><input id="pcLink" type="text" value="https://maps.example.com/share/xyz123" style="flex:1;padding:.4rem .6rem;border-radius:8px;background:var(--bg-dark);border:1px solid var(--border-default);color:var(--text-light)" readonly><button id="pcCopy" class="btn-ghost">Copy</button></div>
            <div style="display:flex;gap:.5rem;flex-wrap:wrap"><button id="pcEmail" class="btn-ghost">‚úâÔ∏è Email</button><button id="pcWA" class="btn-ghost">üí¨ WhatsApp</button><button id="pcTweet" class="btn-ghost">üê¶ Twitter</button></div>
          </div>
        </div>
        <div class="small">Primary share opens a quick modal with link and actions.</div>
      </div>
    </section>

    <section class="style-card">
      <div class="style-header"><span class="style-number">02</span><span class="style-title">Dropdown Targets</span></div>
      <div class="style-demo" style="align-items:stretch;justify-content:center">
        <div class="dropdown">
          <button id="btnDrop" class="btn-share ghost">Share ‚ñæ</button>
          <div class="menu" id="dropMenu" hidden>
            <div class="menu-item" id="dEmail">‚úâÔ∏è Email</div>
            <div class="menu-item" id="dLink">üîó Copy Link</div>
            <div class="menu-item" id="dQR">üî≤ QR Code</div>
            <div class="menu-item" id="dEmbed">‚åò Embed</div>
          </div>
        </div>
        <div class="small">Dropdown allows quick selection of a target platform.</div>
      </div>
    </section>

    <section class="style-card">
      <div class="style-header"><span class="style-number">03</span><span class="style-title">Compact Icon</span></div>
      <div class="style-demo">
        <div style="display:flex;gap:.5rem;align-items:center">
          <button class="btn-share primary" id="btnIcon" title="Share location">üì§</button>
          <button class="btn-share ghost" id="btnIcon2" title="Share">üìé</button>
        </div>
        <div class="small">Compact buttons for toolbars and mobile controls.</div>
      </div>
    </section>

    <section class="style-card">
      <div class="style-header"><span class="style-number">04</span><span class="style-title">Animated Copy</span></div>
      <div class="style-demo">
        <button id="btnAnimCopy" class="btn-share primary">üìã Copy Link</button>
        <div class="small">Copy animation highlights success feedback.</div>
      </div>
    </section>

  </main>

  <script>
    // Primary popover
    const btnPrimary = document.getElementById('btnPrimary'); const pcPrimary = document.getElementById('pcPrimary');
    btnPrimary.addEventListener('click', ()=>{ const open = pcPrimary.hidden; pcPrimary.hidden = !open; btnPrimary.setAttribute('aria-expanded', String(open)); });
    document.getElementById('pcCopy').addEventListener('click', async ()=>{ try{ await navigator.clipboard.writeText(document.getElementById('pcLink').value); document.getElementById('pcCopy').textContent='Copied'; setTimeout(()=>document.getElementById('pcCopy').textContent='Copy',1400); }catch(e){ alert('Failed to copy') } });
    document.getElementById('pcEmail').addEventListener('click', ()=>{ window.open(`mailto:?subject=Shared%20Location&body=${encodeURIComponent(document.getElementById('pcLink').value)}`); });
    document.getElementById('pcWA').addEventListener('click', ()=>{ window.open(`https://wa.me/?text=${encodeURIComponent(document.getElementById('pcLink').value)}`); });

    // Dropdown
    const btnDrop = document.getElementById('btnDrop'); const dropMenu = document.getElementById('dropMenu');
    btnDrop.addEventListener('click', ()=> dropMenu.hidden = !dropMenu.hidden);
    document.getElementById('dEmail').addEventListener('click', ()=> window.open(`mailto:?body=${encodeURIComponent(document.getElementById('pcLink').value)}`));
    document.getElementById('dLink').addEventListener('click', async ()=>{ try{ await navigator.clipboard.writeText(document.getElementById('pcLink').value); dropMenu.hidden = true; btnDrop.textContent='Copied!'; setTimeout(()=>btnDrop.textContent='Share ‚ñæ',1400); }catch(e){ alert('copy failed') } });
    document.getElementById('dQR').addEventListener('click', ()=>{ alert('QR generated (demo)'); });
    document.getElementById('dEmbed').addEventListener('click', ()=>{ alert('Embed snippet copied (demo)'); });

    // Compact icon
    document.getElementById('btnIcon').addEventListener('click', ()=>{ alert('Share quick action (demo)') });

    // Animated copy
    const btnAnimCopy = document.getElementById('btnAnimCopy');
    btnAnimCopy.addEventListener('click', async ()=>{ const original = btnAnimCopy.textContent; btnAnimCopy.textContent='‚úì Copied'; setTimeout(()=>btnAnimCopy.textContent=original,1400); });

    // Close dropdowns when clicking outside
    document.addEventListener('click', (e)=>{ if(!btnDrop.contains(e.target) && !dropMenu.contains(e.target)) dropMenu.hidden = true; if(!btnPrimary.contains(e.target) && !pcPrimary.contains(e.target)) pcPrimary.hidden = true; });
  </script>

</body>
</html>