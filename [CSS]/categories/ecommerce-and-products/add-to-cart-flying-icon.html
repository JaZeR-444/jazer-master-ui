<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add to Cart Flying Icon - JaZeR E-commerce Patterns</title>
    <link rel="stylesheet" href="../../../jazer-brand.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            padding: 1.5rem;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-gray);
            text-decoration: none;
            font-family: var(--font-secondary);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--border-default);
            background: var(--bg-card);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 1.5rem;
        }

        .back-button:hover {
            border-color: var(--jazer-cyan);
            color: var(--jazer-cyan);
            transform: translateX(-5px);
            box-shadow: var(--shadow-cyan);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 3rem 1rem;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, rgba(0, 242, 234, 0.03) 0%, rgba(147, 51, 234, 0.03) 50%, rgba(255, 0, 110, 0.03) 100%);
            border-radius: 24px;
            border: 1px solid var(--border-default);
        }

        .hero h1 {
            font-family: var(--font-primary);
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 900;
            margin-bottom: 1rem;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-family: var(--font-secondary);
            font-size: 1.125rem;
            color: var(--text-gray);
            max-width: 600px;
            margin: 0 auto 1.5rem;
        }

        .hero-keys {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .key-hint {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            font-family: var(--font-mono);
            font-size: 0.875rem;
            color: var(--text-gray);
        }

        .key-hint kbd {
            background: var(--gradient-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            color: var(--text-light);
        }

        /* Style Selector */
        .style-selector {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 3rem;
            padding: 0 1rem;
        }

        .style-btn {
            padding: 0.75rem 1.5rem;
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-gray);
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .style-btn:hover {
            border-color: var(--jazer-cyan);
            color: var(--jazer-cyan);
            transform: translateY(-2px);
        }

        .style-btn.active {
            background: var(--gradient-primary);
            border-color: transparent;
            color: var(--text-light);
            box-shadow: var(--shadow-cyan);
        }

        /* Demo Container */
        .demo-container {
            max-width: 600px;
            margin: 0 auto 3rem;
            padding: 2rem;
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            border-radius: 24px;
        }

        .demo-label {
            font-family: var(--font-secondary);
            font-weight: 700;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--jazer-cyan);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .preview-area {
            background: rgba(10, 10, 20, 0.6);
            border-radius: 12px;
            padding: 2rem;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        /* Cart target indicator */
        .cart-target {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 48px;
            height: 48px;
            background: rgba(0, 242, 234, 0.1);
            border: 2px solid var(--jazer-cyan);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .cart-target.active {
            background: var(--jazer-cyan);
            transform: scale(1.2);
            box-shadow: 0 0 30px var(--jazer-cyan);
        }

        .cart-target .count {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 24px;
            height: 24px;
            background: var(--jazer-pink);
            border-radius: 50%;
            font-size: 0.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
        }

        /* Product display */
        .product-display {
            text-align: center;
        }

        .product-emoji {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .product-name {
            font-family: var(--font-secondary);
            font-weight: 700;
            color: #fff;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .product-price {
            color: var(--jazer-cyan);
            font-weight: 700;
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }

        /* Base add button */
        .add-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: linear-gradient(135deg, var(--jazer-cyan), var(--jazer-purple));
            color: #fff;
        }

        .add-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 242, 234, 0.3);
        }

        .add-btn:active {
            transform: scale(0.95);
        }

        .add-btn.added {
            background: linear-gradient(135deg, #00ff88, #00cc66);
        }

        /* Style-specific button variations */
        .cyber-btn {
            background: transparent;
            border: 2px solid var(--jazer-cyan);
            color: var(--jazer-cyan);
            position: relative;
            overflow: hidden;
            clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
        }

        .cyber-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 242, 234, 0.3), transparent);
            animation: cyberScan 2s linear infinite;
        }

        @keyframes cyberScan {
            to { left: 100%; }
        }

        .cyber-btn:hover {
            background: rgba(0, 242, 234, 0.1);
            box-shadow: 0 0 25px rgba(0, 242, 234, 0.5), inset 0 0 25px rgba(0, 242, 234, 0.1);
        }

        .cyber-btn.added {
            border-color: #00ff88;
            color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }

        /* ========================================
           Flying Icon Animations
           ======================================== */

        /* Style 1: Classic Burst */
        .flying-icon-burst {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: burstFly 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes burstFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--fly-x), var(--fly-y)) scale(0.3) rotate(360deg);
            }
        }

        /* Style 2: Arc Flight */
        .flying-icon-arc {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: arcFlight 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes arcFlight {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            50% {
                transform: translate(calc(var(--target-x) * 0.5), calc(var(--target-y) * 0.5 - 100px)) scale(1.3);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.2);
            }
        }

        /* Style 3: Spiral Spin */
        .flying-icon-spiral {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: spiralSpin 1s ease-out forwards;
        }

        @keyframes spiralSpin {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1) rotate(0deg);
            }
            25% {
                transform: translate(40px, -50px) scale(1.2) rotate(180deg);
            }
            50% {
                transform: translate(80px, -70px) scale(1) rotate(360deg);
            }
            75% {
                transform: translate(calc(var(--target-x) * 0.8), calc(var(--target-y) * 0.8)) scale(0.6) rotate(540deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.2) rotate(720deg);
            }
        }

        /* Style 4: Particle Trail */
        .flying-icon-trail {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: trailFly 0.6s ease-out forwards;
        }

        .flying-icon-trail::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, var(--jazer-cyan), transparent);
            filter: blur(10px);
            opacity: 0.7;
            animation: trailGlow 0.6s ease-out forwards;
        }

        @keyframes trailFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.3);
            }
        }

        @keyframes trailGlow {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 0; transform: scale(2.5); }
        }

        .trail-particle {
            position: fixed;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--jazer-cyan);
            pointer-events: none;
            z-index: 9998;
            animation: particleFade 0.5s ease-out forwards;
        }

        @keyframes particleFade {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }

        /* Style 5: Bounce Path */
        .flying-icon-bounce {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: bouncePath 0.9s ease-out forwards;
        }

        @keyframes bouncePath {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            30% {
                transform: translate(calc(var(--target-x) * 0.4), calc(var(--target-y) * 0.3 - 80px)) scale(1.2);
            }
            50% {
                transform: translate(calc(var(--target-x) * 0.5), calc(var(--target-y) * 0.4)) scale(1);
            }
            70% {
                transform: translate(calc(var(--target-x) * 0.75), calc(var(--target-y) * 0.6 - 40px)) scale(0.8);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.2);
            }
        }

        /* Style 6: Split Multi */
        .flying-icon-split {
            position: fixed;
            font-size: 1.2rem;
            pointer-events: none;
            z-index: 9999;
            animation: splitFly 0.7s ease-out forwards;
        }

        @keyframes splitFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1.5);
            }
            30% {
                transform: translate(var(--split-x), var(--split-y)) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.3);
            }
        }

        /* Style 7: Glass Morph */
        .flying-icon-glass {
            position: fixed;
            font-size: 2rem;
            pointer-events: none;
            z-index: 9999;
            animation: glassFly 0.8s ease-out forwards;
            filter: drop-shadow(0 0 15px rgba(147, 51, 234, 0.5));
        }

        @keyframes glassFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
                filter: blur(0) drop-shadow(0 0 15px rgba(147, 51, 234, 0.5));
            }
            50% {
                filter: blur(2px) drop-shadow(0 0 25px rgba(147, 51, 234, 0.8));
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.3);
                filter: blur(0) drop-shadow(0 0 10px rgba(147, 51, 234, 0.3));
            }
        }

        /* Style 8: Cyberpunk Glitch */
        .flying-icon-cyber {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 9999;
            animation: cyberFly 0.8s steps(8) forwards;
            text-shadow: 
                3px 0 var(--jazer-cyan),
                -3px 0 var(--jazer-pink);
        }

        @keyframes cyberFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
                filter: hue-rotate(0deg);
            }
            25% {
                transform: translate(calc(var(--target-x) * 0.25 + 8px), calc(var(--target-y) * 0.25)) scale(1.1);
                filter: hue-rotate(90deg);
            }
            50% {
                transform: translate(calc(var(--target-x) * 0.5 - 8px), calc(var(--target-y) * 0.5)) scale(0.9);
                filter: hue-rotate(180deg);
            }
            75% {
                transform: translate(calc(var(--target-x) * 0.75 + 5px), calc(var(--target-y) * 0.75)) scale(0.6);
                filter: hue-rotate(270deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.2);
                filter: hue-rotate(360deg);
            }
        }

        .cyber-glitch-line {
            position: fixed;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--jazer-cyan), var(--jazer-pink), transparent);
            pointer-events: none;
            z-index: 9998;
            animation: glitchLine 0.3s ease-out forwards;
        }

        @keyframes glitchLine {
            0% { opacity: 1; width: 0; }
            50% { opacity: 1; width: 120px; }
            100% { opacity: 0; width: 180px; }
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 0.875rem 2rem;
            font-family: var(--font-secondary);
            font-weight: 700;
            font-size: 0.875rem;
            color: var(--text-light);
            background: var(--gradient-accent);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-purple);
        }

        .control-btn.secondary {
            background: var(--bg-card);
            border: 2px solid var(--border-default);
            color: var(--text-gray);
        }

        .control-btn.secondary:hover {
            border-color: var(--jazer-cyan);
            color: var(--jazer-cyan);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .demo-container {
                padding: 1.5rem;
            }

            .preview-area {
                min-height: 280px;
                padding: 1.5rem;
            }

            .product-emoji {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button">‚Üê Back to E-commerce Patterns</a>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Add to Cart Flying Icon</h1>
        <p>Delightful micro-interactions when adding products to cart with 8 unique flying animation styles</p>
        <div class="hero-keys">
            <span class="key-hint"><kbd>Space</kbd> Trigger Animation</span>
            <span class="key-hint"><kbd>R</kbd> Reset Counter</span>
        </div>
    </section>

    <!-- Style Selector -->
    <div class="style-selector">
        <button class="style-btn active" data-style="burst">Classic Burst</button>
        <button class="style-btn" data-style="arc">Arc Flight</button>
        <button class="style-btn" data-style="spiral">Spiral Spin</button>
        <button class="style-btn" data-style="trail">Particle Trail</button>
        <button class="style-btn" data-style="bounce">Bounce Path</button>
        <button class="style-btn" data-style="split">Split Multi</button>
        <button class="style-btn" data-style="glass">Glass</button>
        <button class="style-btn" data-style="cyber">Cyberpunk</button>
    </div>

    <!-- Demo Container -->
    <div class="demo-container">
        <div class="demo-label">Live Preview</div>
        <div class="preview-area">
            <div class="cart-target" id="cartTarget">
                üõí
                <span class="count" id="cartCount">0</span>
            </div>
            <div class="product-display">
                <span class="product-emoji" id="productEmoji">üéß</span>
                <div class="product-name" id="productName">Wireless Headphones</div>
                <div class="product-price" id="productPrice">$299</div>
                <button class="add-btn" id="addBtn" onclick="triggerAddToCart()">
                    <span>üõí</span> Add to Cart
                </button>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="triggerAddToCart()">
                <span>‚ö°</span> Add to Cart
            </button>
            <button class="control-btn secondary" onclick="resetCounter()">
                <span>üîÑ</span> Reset Counter
            </button>
        </div>
    </div>

    <script>
        let currentStyle = 'burst';
        let cartCount = 0;

        const products = [
            { emoji: 'üéß', name: 'Wireless Headphones', price: '$299' },
            { emoji: '‚åö', name: 'Smart Watch Pro', price: '$399' },
            { emoji: 'üëü', name: 'Running Sneakers', price: '$149' },
            { emoji: 'üéí', name: 'Travel Backpack', price: '$89' },
            { emoji: 'üì±', name: 'Smartphone', price: '$899' },
            { emoji: 'üï∂Ô∏è', name: 'Designer Sunglasses', price: '$199' },
            { emoji: 'üíª', name: 'Laptop Pro', price: '$1,499' },
            { emoji: 'üéÆ', name: 'Gaming Console', price: '$499' }
        ];

        const styleBtns = document.querySelectorAll('.style-btn');
        const addBtn = document.getElementById('addBtn');
        const cartTarget = document.getElementById('cartTarget');
        const cartCountEl = document.getElementById('cartCount');
        const productEmoji = document.getElementById('productEmoji');
        const productName = document.getElementById('productName');
        const productPrice = document.getElementById('productPrice');

        // Style selector
        styleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                styleBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentStyle = btn.dataset.style;
                
                // Update button style for cyberpunk
                if (currentStyle === 'cyber') {
                    addBtn.classList.add('cyber-btn');
                } else {
                    addBtn.classList.remove('cyber-btn');
                }
                
                // Update product based on style
                const styleIndex = Array.from(styleBtns).indexOf(btn);
                const product = products[styleIndex];
                productEmoji.textContent = product.emoji;
                productName.textContent = product.name;
                productPrice.textContent = product.price;
            });
        });

        function getElementCenter(el) {
            const rect = el.getBoundingClientRect();
            return {
                x: rect.left + rect.width / 2,
                y: rect.top + rect.height / 2
            };
        }

        function activateCart() {
            cartCount++;
            cartCountEl.textContent = cartCount;
            cartTarget.classList.add('active');
            setTimeout(() => cartTarget.classList.remove('active'), 400);
        }

        function buttonFeedback() {
            const originalHTML = addBtn.innerHTML;
            addBtn.classList.add('added');
            addBtn.innerHTML = '<span>‚úì</span> Added!';
            
            setTimeout(() => {
                addBtn.classList.remove('added');
                addBtn.innerHTML = originalHTML;
            }, 1500);
        }

        function triggerAddToCart() {
            const btnCenter = getElementCenter(addBtn);
            const cartCenter = getElementCenter(cartTarget);

            switch(currentStyle) {
                case 'burst':
                    addToCartBurst(btnCenter);
                    break;
                case 'arc':
                    addToCartArc(btnCenter, cartCenter);
                    break;
                case 'spiral':
                    addToCartSpiral(btnCenter, cartCenter);
                    break;
                case 'trail':
                    addToCartTrail(btnCenter, cartCenter);
                    break;
                case 'bounce':
                    addToCartBounce(btnCenter, cartCenter);
                    break;
                case 'split':
                    addToCartSplit(btnCenter, cartCenter);
                    break;
                case 'glass':
                    addToCartGlass(btnCenter, cartCenter);
                    break;
                case 'cyber':
                    addToCartCyber(btnCenter, cartCenter);
                    break;
            }

            buttonFeedback();
        }

        // Style 1: Classic Burst
        function addToCartBurst(btnCenter) {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const icon = document.createElement('span');
                    icon.className = 'flying-icon-burst';
                    icon.textContent = 'üõí';
                    icon.style.left = btnCenter.x + 'px';
                    icon.style.top = btnCenter.y + 'px';

                    const angle = (Math.PI * 2 / 5) * i + Math.random() * 0.5;
                    const distance = 100 + Math.random() * 80;
                    icon.style.setProperty('--fly-x', Math.cos(angle) * distance + 'px');
                    icon.style.setProperty('--fly-y', Math.sin(angle) * distance + 'px');

                    document.body.appendChild(icon);
                    setTimeout(() => icon.remove(), 800);
                }, i * 60);
            }

            setTimeout(() => activateCart(), 500);
        }

        // Style 2: Arc Flight
        function addToCartArc(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-arc';
            icon.textContent = 'üõí';
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);
            setTimeout(() => {
                icon.remove();
                activateCart();
            }, 700);
        }

        // Style 3: Spiral Spin
        function addToCartSpiral(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-spiral';
            icon.textContent = 'üõí';
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);
            setTimeout(() => {
                icon.remove();
                activateCart();
            }, 1000);
        }

        // Style 4: Particle Trail
        function addToCartTrail(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-trail';
            icon.textContent = 'üõí';
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);

            // Create particle trail
            const duration = 600;
            const particles = 12;
            const dx = (cartCenter.x - btnCenter.x) / particles;
            const dy = (cartCenter.y - btnCenter.y) / particles;

            for (let i = 0; i < particles; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'trail-particle';
                    particle.style.left = (btnCenter.x + dx * i) + 'px';
                    particle.style.top = (btnCenter.y + dy * i) + 'px';
                    document.body.appendChild(particle);
                    setTimeout(() => particle.remove(), 500);
                }, (duration / particles) * i);
            }

            setTimeout(() => {
                icon.remove();
                activateCart();
            }, duration);
        }

        // Style 5: Bounce Path
        function addToCartBounce(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-bounce';
            icon.textContent = 'üõí';
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);
            setTimeout(() => {
                icon.remove();
                activateCart();
            }, 900);
        }

        // Style 6: Split Multi
        function addToCartSplit(btnCenter, cartCenter) {
            const splitOffsets = [
                { x: -50, y: -40 },
                { x: 0, y: -60 },
                { x: 50, y: -40 },
                { x: -35, y: 25 },
                { x: 35, y: 25 }
            ];

            splitOffsets.forEach((offset, i) => {
                setTimeout(() => {
                    const icon = document.createElement('span');
                    icon.className = 'flying-icon-split';
                    icon.textContent = 'üõí';
                    icon.style.left = btnCenter.x + 'px';
                    icon.style.top = btnCenter.y + 'px';
                    icon.style.setProperty('--split-x', offset.x + 'px');
                    icon.style.setProperty('--split-y', offset.y + 'px');
                    icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
                    icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

                    document.body.appendChild(icon);
                    setTimeout(() => icon.remove(), 700);
                }, i * 40);
            });

            setTimeout(() => activateCart(), 650);
        }

        // Style 7: Glass Morph
        function addToCartGlass(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-glass';
            icon.textContent = productEmoji.textContent;
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);

            // Morph to cart icon midway
            setTimeout(() => {
                icon.textContent = 'üõí';
            }, 400);

            setTimeout(() => {
                icon.remove();
                activateCart();
            }, 800);
        }

        // Style 8: Cyberpunk Glitch
        function addToCartCyber(btnCenter, cartCenter) {
            const icon = document.createElement('span');
            icon.className = 'flying-icon-cyber';
            icon.textContent = 'üõí';
            icon.style.left = btnCenter.x + 'px';
            icon.style.top = btnCenter.y + 'px';
            icon.style.setProperty('--target-x', (cartCenter.x - btnCenter.x) + 'px');
            icon.style.setProperty('--target-y', (cartCenter.y - btnCenter.y) + 'px');

            document.body.appendChild(icon);

            // Create glitch lines
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const line = document.createElement('div');
                    line.className = 'cyber-glitch-line';
                    const progress = i / 6;
                    line.style.left = (btnCenter.x + (cartCenter.x - btnCenter.x) * progress) + 'px';
                    line.style.top = (btnCenter.y + (cartCenter.y - btnCenter.y) * progress + Math.random() * 30 - 15) + 'px';
                    document.body.appendChild(line);
                    setTimeout(() => line.remove(), 300);
                }, i * 100);
            }

            setTimeout(() => {
                icon.remove();
                activateCart();
            }, 800);
        }

        function resetCounter() {
            cartCount = 0;
            cartCountEl.textContent = '0';
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && e.target === document.body) {
                e.preventDefault();
                triggerAddToCart();
            }
            if (e.code === 'KeyR' && e.target === document.body) {
                e.preventDefault();
                resetCounter();
            }
        });
    </script>
</body>
</html>
