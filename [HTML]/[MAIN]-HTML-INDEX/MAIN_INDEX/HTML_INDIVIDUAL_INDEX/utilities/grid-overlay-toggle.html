<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grid Overlay Toggle</title>
  <style>
    /* ==================== RESET ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f5f5f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-bottom: 2rem; /* Space for toggle button */
    }

    /* ==================== GRID OVERLAY STYLES ==================== */
    .grid-overlay-toggle-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #34495e;
      color: #fff;
      border: none;
      padding: 0.8rem 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: background-color 0.2s;
    }

    .grid-overlay-toggle-btn:hover {
      background-color: #2c3e50;
    }

    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* Allow interaction with elements beneath */
      z-index: 999;
      display: none; /* Hidden by default */
    }

    .grid-overlay.active {
      display: block;
    }

    .grid-col-guide {
      float: left; /* To create columns */
      height: 100%;
      background-color: rgba(255, 0, 0, 0.1); /* Red transparent color for columns */
      border-left: 1px dashed rgba(255, 0, 0, 0.5);
      border-right: 1px dashed rgba(255, 0, 0, 0.5);
    }

    /* Example grid system (Flexbox based for simplicity) */
    .responsive-grid {
      display: flex;
      flex-wrap: wrap;
      max-width: 1200px; /* Example max width for a 12-column grid */
      margin: 0 auto;
      background-color: rgba(0, 0, 255, 0.05); /* Blue for grid area */
      border: 1px solid rgba(0, 0, 255, 0.2);
      padding: 1rem 0;
    }
    .col {
        flex: 1; /* Each column takes equal space */
        min-width: 100px; /* Prevent too narrow columns */
        padding: 0 1rem;
    }
    .col-half {
        flex: 0 0 50%; /* Example: Two columns */
    }
    .col-third {
        flex: 0 0 33.333%; /* Example: Three columns */
    }


    /* ==================== PAGE CONTENT (for context) ==================== */
    .header {
        background-color: #fff;
        padding: 1rem 2rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        text-align: center;
        margin-bottom: 2rem;
    }
    .header h1 {
        font-size: 1.8rem;
        color: #2c3e50;
    }

    .content-area {
      max-width: 900px;
      margin: 0 auto;
      background-color: #fff;
      padding: 3rem;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .content-area h2 {
      color: #2c3e50;
      margin-bottom: 1.5rem;
    }

    .content-area p {
      margin-bottom: 1.5rem;
      color: #555;
    }

    /* ==================== FOOTER (for context) ==================== */
    .footer {
      background-color: #34495e;
      color: #ecf0f1;
      padding: 1.5rem;
      text-align: center;
      font-size: 0.9rem;
      margin-top: auto;
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 768px) {
      .responsive-grid .col-half, .responsive-grid .col-third {
          flex: 0 0 100%; /* Stack columns on small screens */
      }
    }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Outfit:wght@400;600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../jazer-brand.css">
  </head>
<body>

  <button class="grid-overlay-toggle-btn" id="gridToggleBtn">Toggle Grid Overlay</button>

  <header class="header">
    <h1>My Responsive Page</h1>
  </header>

  <main class="content-area">
    <h2>Demonstrating Responsive Layouts</h2>
    <p>This page illustrates the use of a grid overlay, a helpful tool for developers to visualize and debug responsive layouts. Click the button to toggle the grid.</p>
    
    <div class="responsive-grid">
        <div class="col col-third" style="background-color: rgba(255, 255, 0, 0.1);">
            <h3>Column 1</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        </div>
        <div class="col col-third" style="background-color: rgba(0, 255, 255, 0.1);">
            <h3>Column 2</h3>
            <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>
        <div class="col col-third" style="background-color: rgba(255, 0, 255, 0.1);">
            <h3>Column 3</h3>
            <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
        </div>
    </div>

    <div class="responsive-grid" style="margin-top: 2rem;">
        <div class="col col-half" style="background-color: rgba(255, 165, 0, 0.1);">
            <h3>Half Width</h3>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
        </div>
        <div class="col col-half" style="background-color: rgba(128, 0, 128, 0.1);">
            <h3>Half Width</h3>
            <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia.</p>
        </div>
    </div>

    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </main>

  <footer class="footer">
    <p>&copy; 2023 My Responsive Page. All rights reserved.</p>
  </footer>

  <!-- Grid Overlay Element (Dynamically created or present) -->
  <div class="grid-overlay" id="gridOverlay"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const gridToggleBtn = document.getElementById('gridToggleBtn');
      const gridOverlay = document.getElementById('gridOverlay');
      const responsiveGrid = document.querySelector('.responsive-grid');

      /**
       * Creates/updates the column guides within the grid overlay.
       */
      function updateGridGuides() {
        if (!responsiveGrid) return;

        // Clear existing guides
        gridOverlay.innerHTML = '';

        // Get computed styles of the responsive grid for columns and gaps
        const computedStyle = window.getComputedStyle(responsiveGrid);
        const gridTemplateColumns = computedStyle.getPropertyValue('grid-template-columns');
        const gap = parseFloat(computedStyle.getPropertyValue('gap')); // Get horizontal gap

        const columnWidths = gridTemplateColumns.split(' ').map(s => {
            if (s.endsWith('px')) return parseFloat(s);
            // For fr units, we need total width
            return 0; // Simplified: will not correctly calculate for 'fr' without more complex logic
        }).filter(w => w > 0);

        if (columnWidths.length === 0) { // Fallback for flex-based or complex grids
            const cols = responsiveGrid.querySelectorAll('.col');
            cols.forEach(col => {
                const guide = document.createElement('div');
                guide.classList.add('grid-col-guide');
                guide.style.width = `${col.offsetWidth}px`;
                guide.style.marginLeft = `${parseFloat(window.getComputedStyle(col).marginLeft)}px`;
                guide.style.marginRight = `${parseFloat(window.getComputedStyle(col).marginRight)}px`;
                gridOverlay.appendChild(guide);
            });
        } else { // Grid-template-columns based
            let currentLeft = responsiveGrid.getBoundingClientRect().left;
            columnWidths.forEach((width, index) => {
                const guide = document.createElement('div');
                guide.classList.add('grid-col-guide');
                guide.style.width = `${width}px`;
                guide.style.left = `${currentLeft}px`;
                // More complex for actual CSS Grid alignment, this is a basic approximation
                currentLeft += width + gap;
                gridOverlay.appendChild(guide);
            });
        }
      }


      debugToggleBtn.addEventListener('click', () => {
        gridOverlay.classList.toggle('active');
        gridToggleBtn.setAttribute('aria-expanded', gridOverlay.classList.contains('active'));
        if (gridOverlay.classList.contains('active')) {
            // Recalculate and display guides when activated
            updateGridGuides();
        }
      });

      // Recalculate on window resize when active
      window.addEventListener('resize', () => {
        if (gridOverlay.classList.contains('active')) {
            updateGridGuides();
        }
      });
    });
  </script>

</body>
</html>
