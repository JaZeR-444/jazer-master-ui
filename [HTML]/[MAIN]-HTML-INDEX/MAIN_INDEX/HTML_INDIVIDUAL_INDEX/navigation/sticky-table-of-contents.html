<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sticky Table of Contents</title>
  <style>
    /* ==================== RESET ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f5f5f5;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .container {
      max-width: 1200px;
      width: 100%;
      display: flex;
      gap: 2rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      padding: 2rem;
    }

    /* ==================== MAIN CONTENT AREA ==================== */
    .main-content {
      flex: 3; /* Takes 3 parts of available space */
      padding-right: 1.5rem; /* Space before TOC */
      border-right: 1px solid #eee;
    }

    .main-content h1 {
      color: #2c3e50;
      margin-bottom: 1.5rem;
      font-size: 2.5rem;
    }

    .main-content h2 {
      color: #34495e;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #e0e0e0;
      font-size: 2rem;
    }

    .main-content h3 {
      color: #34495e;
      margin-top: 2rem;
      margin-bottom: 0.8rem;
      font-size: 1.5rem;
    }

    .main-content p {
      margin-bottom: 1rem;
      color: #555;
    }

    /* ==================== TABLE OF CONTENTS ==================== */
    .toc-wrapper {
      flex: 1; /* Takes 1 part of available space */
      position: sticky;
      top: 2rem; /* Stick to the top of the container with some offset */
      align-self: flex-start; /* Align to the start of the cross-axis */
      max-height: calc(100vh - 4rem); /* Max height relative to viewport */
      overflow-y: auto; /* Enable scrolling if TOC is too long */
      padding-left: 1.5rem;
    }

    .toc-wrapper h2 {
      font-size: 1.3rem;
      color: #2c3e50;
      margin-bottom: 1rem;
      border-bottom: 1px solid #eee;
      padding-bottom: 0.5rem;
    }

    .toc-list {
      list-style: none;
      padding: 0;
    }

    .toc-list li {
      margin-bottom: 0.5rem;
    }

    .toc-list a {
      text-decoration: none;
      color: #555;
      display: block;
      padding: 0.3rem 0.5rem;
      border-radius: 5px;
      transition: background-color 0.2s, color 0.2s;
      font-size: 0.95rem;
    }

    .toc-list a:hover {
      background-color: #f0f0f0;
      color: #3498db;
    }

    .toc-list a.active {
      background-color: #e6f7ff;
      color: #3498db;
      font-weight: 600;
    }

    .toc-list ul {
      list-style: none;
      padding-left: 1rem;
      margin-top: 0.5rem;
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        padding: 1rem;
      }
      .main-content {
        border-right: none;
        padding-right: 0;
        margin-bottom: 2rem;
      }
      .toc-wrapper {
        position: static; /* Remove sticky behavior on small screens */
        top: auto;
        padding-left: 0;
        max-height: none;
      }
      .toc-wrapper h2 {
        text-align: center;
      }
    }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Outfit:wght@400;600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../jazer-brand.css">
  </head>
<body>

  <div class="container">
    <div class="main-content">
      <h1>Understanding Web Accessibility</h1>
      <p>Web accessibility (often abbreviated as a11y, where 11 refers to the number of letters between the "a" and "y" in accessibility) is the inclusive practice of ensuring there are no barriers that prevent interaction with, or access to, websites on the World Wide Web by people with physical disabilities, situational disabilities, and socio-economic restrictions.</p>

      <h2 id="introduction">1. Introduction to Accessibility</h2>
      <p>Accessibility is crucial for creating an equitable web experience for everyone. It involves designing and developing websites and web tools so that people with disabilities can use them.</p>
      <h3>1.1 Why is Accessibility Important?</h3>
      <p>Beyond being a legal requirement in many regions, accessibility expands your audience, improves SEO, and enhances the overall user experience for all users, not just those with disabilities.</p>
      <p>It's about providing equal access and equal opportunity to people with diverse abilities. This includes people with visual, auditory, physical, speech, cognitive, and neurological disabilities.</p>

      <h2 id="principles">2. Core Principles of WCAG (POUR)</h2>
      <p>The Web Content Accessibility Guidelines (WCAG) are developed through the W3C process in cooperation with individuals and organizations around the world, with a goal of providing a shared standard for web content accessibility that meets the needs of individuals, organizations, and governments internationally.</p>
      <h3>2.1 Perceivable</h3>
      <p>Information and user interface components must be presentable to users in ways they can perceive. This means users must be able to perceive the information being presented (it can't be invisible to all of their senses).</p>
      <ul>
        <li>Provide text alternatives for non-text content.</li>
        <li>Provide captions and other alternatives for multimedia.</li>
        <li>Create content that can be presented in different ways (e.g. simpler layout) without losing information or structure.</li>
        <li>Make it easier for users to see and hear content including separating foreground from background.</li>
      </ul>
      <h3>2.2 Operable</h3>
      <p>User interface components and navigation must be operable. This means users must be able to operate the interface (the interface cannot require interaction that a user cannot perform).</p>
      <ul>
        <li>Make all functionality available from a keyboard.</li>
        <li>Give users enough time to read and use the content.</li>
        <li>Do not design content in a way that is known to cause seizures or physical reactions.</li>
        <li>Provide ways to help users navigate, find content, and determine where they are.</li>
      </ul>
      <h3>2.3 Understandable</h3>
      <p>Information and the operation of user interface must be understandable. This means users must be able to understand the information as well as the operation of the user interface (the content or operation cannot be beyond their understanding).</p>
      <ul>
        <li>Make text content readable and understandable.</li>
        <li>Make web pages appear and operate in predictable ways.</li>
        <li>Help users avoid and correct mistakes.</li>
      </ul>
      <h3>2.4 Robust</h3>
      <p>Content must be robust enough that it can be interpreted by a wide variety of user agents, including assistive technologies. This means users must be able to access the content as technologies advance (as technologies and user agents evolve, the content should remain accessible).</p>
      <ul>
        <li>Maximize compatibility with current and future user agents, including assistive technologies.</li>
      </ul>

      <h2 id="techniques">3. Practical Accessibility Techniques</h2>
      <p>Implementing accessibility often comes down to following established best practices. Here are a few key areas.</p>
      <h3>3.1 Semantic HTML</h3>
      <p>Using HTML elements for their intended purpose provides inherent accessibility. For example, using `<button>` for buttons, `<h1>` for main titles, `<nav>` for navigation, etc.</p>
      <h3>3.2 Keyboard Navigation</h3>
      <p>Ensure all interactive elements are reachable and operable via keyboard. This often means focusing on proper tab order and using native HTML elements or adding `tabindex` and ARIA roles where custom controls are necessary.</p>
      <h3>3.3 ARIA Attributes</h3>
      <p>Accessible Rich Internet Applications (ARIA) attributes help provide additional semantic information to assistive technologies when native HTML isn't sufficient. Use them sparingly and correctly, following the first rule of ARIA: "If you can use a native HTML element or attribute with the semantics and behavior you require already built in, instead of re-purposing an element and adding an ARIA role, state or property to make it accessible, then do so."</p>
      <h3>3.4 Color Contrast</h3>
      <p>Ensure there is sufficient color contrast between text and its background. WCAG 2.1 recommends a contrast ratio of at least 4.5:1 for normal text and 3:1 for large text.</p>
      <h3>3.5 Focus Indicators</h3>
      <p>Provide clear visual focus indicators for keyboard users. Browsers provide default outlines, but these can be styled to match your brand while still being highly visible.</p>

      <h2 id="testing">4. Testing and Evaluation</h2>
      <p>Regularly testing your website for accessibility issues is crucial. This involves a combination of automated tools and manual checks.</p>
      <h3>4.1 Automated Tools</h3>
      <p>Tools like Lighthouse, AXE DevTools, and Wave provide quick scans for common accessibility problems. They are good for catching about 30-50% of issues.</p>
      <h3>4.2 Manual Testing</h3>
      <p>Manual testing involves navigating the site using only a keyboard, using a screen reader, and testing with various assistive technologies. User testing with individuals with disabilities is the most effective way to uncover real-world usability issues.</p>
      <p>Remember to check: keyboard navigation, focus management, screen reader compatibility, color contrast, and media alternatives.</p>

      <h2 id="conclusion">5. Conclusion</h2>
      <p>Building accessible websites is not just about compliance; it's about building a better web for everyone. By following WCAG principles and applying practical techniques, we can create inclusive digital experiences.</p>
      <p>Continuous learning and testing are key to maintaining an accessible web presence.</p>
    </div>

    <div class="toc-wrapper">
      <h2>Table of Contents</h2>
      <nav>
        <ul class="toc-list" id="toc-list">
          <!-- TOC items will be generated by JavaScript -->
        </ul>
      </nav>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tocList = document.getElementById('toc-list');
      const mainContent = document.querySelector('.main-content');
      const headings = mainContent.querySelectorAll('h2[id], h3[id]'); // Select h2 and h3 with IDs

      let activeTocLink = null;

      /**
       * Generates the Table of Contents dynamically.
       */
      function generateToc() {
        headings.forEach(heading => {
          const listItem = document.createElement('li');
          const link = document.createElement('a');
          link.href = `#${heading.id}`;
          link.textContent = heading.textContent;

          // Add appropriate indentation for h3 headings
          if (heading.tagName === 'H3') {
            const sublist = tocList.lastElementChild.querySelector('ul') || document.createElement('ul');
            if (!tocList.lastElementChild.querySelector('ul')) {
                tocList.lastElementChild.appendChild(sublist);
            }
            sublist.appendChild(listItem);
          } else {
            tocList.appendChild(listItem);
          }
          listItem.appendChild(link);

          // Add click event for smooth scrolling
          link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          });
        });
      }

      /**
       * Updates the active state of TOC links based on scroll position.
       */
      function updateActiveLink() {
        let currentActive = null;

        // Iterate backwards to find the lowest heading currently in view
        for (let i = headings.length - 1; i >= 0; i--) {
          const heading = headings[i];
          const rect = heading.getBoundingClientRect();
          // Adjust 20px buffer from top to make activation more responsive
          if (rect.top <= (window.innerHeight / 2 || 200)) { // Activate when heading is near top of viewport
            currentActive = heading.id;
            break;
          }
        }

        // Remove active class from previous link
        if (activeTocLink) {
          activeTocLink.classList.remove('active');
        }

        // Add active class to current link
        if (currentActive) {
          const newActiveLink = tocList.querySelector(`a[href="#${currentActive}"]`);
          if (newActiveLink) {
            newActiveLink.classList.add('active');
            activeTocLink = newActiveLink;
          }
        }
      }

      // Initial generation and active link update
      generateToc();
      updateActiveLink();

      // Event listener for scroll to update active link
      window.addEventListener('scroll', updateActiveLink);
    });
  </script>

</body>
</html>
