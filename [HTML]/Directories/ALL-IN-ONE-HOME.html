<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JaZeR Component Library - Home</title>
  <!-- JaZeR Brand Stylesheet - Main source of truth for all styling -->
  <link rel="stylesheet" href="../../jazer-brand.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script>
    // Apply theme immediately before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('jazer-theme') || 'dark';
      document.documentElement.setAttribute('data-theme', savedTheme);
    })();
  </script>
</head>
<body data-category="home">
  <div class="container">
    <!-- Header Section -->
    <header class="mb-6">
        <div class="text-center mb-4 slide-up">
          <h1 class="gradient-text text-4xl font-extrabold mb-2" style="animation-delay: 0.1s;">JaZeR Component Library</h1>
          <p class="text-xl text-gray" style="animation-delay: 0.2s;">A comprehensive collection of HTML/CSS/JS components and patterns</p>
        </div>
      </header>

    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        class="search-input"
        id="componentSearch"
        placeholder="Search all components..."
        autocomplete="off"
      />
      <span class="search-icon">üîç</span>
      <button class="search-clear" id="clearSearch">‚úï</button>
    </div>

    <!-- Favorites Filter Toggle & Theme Toggle -->
    <div class="flex justify-center items-center gap-3 mb-4">
      <button id="favoritesToggle" class="favorites-toggle">
        <span id="favoritesCount">0</span> Favorites
      </button>
      <button class="theme-toggle-inline" id="themeToggle" aria-label="Toggle theme">
        <span class="theme-toggle-icon"></span>
      </button>
    </div>

    <!-- Pill Filter Bar -->
    <div class="pill-filter-container" id="pillFilterBar">
      <div class="filter-title">Filter by Characteristics</div>
      <div class="filter-pills" id="filterPills">
        <!-- Filter pills will be dynamically populated -->
      </div>
      <div class="active-filters" id="activeFilters">
        <span class="active-filters-label">Active:</span>
        <div id="activeFilterPills"></div>
        <button class="clear-all-filters" id="clearAllFilters">Clear All</button>
      </div>
    </div>

    <div class="divider mb-6"></div>

    <!-- Main Categories Grid -->
    <div class="grid grid-cols-2 gap-5 mb-8" id="categoryGrid">
        <!-- Components Section -->
        <div class="card card-interactive p-6 slide-up" data-component="components" data-title="Components" data-desc="Reusable UI components like buttons, cards, modals, dialogs, and more interactive elements">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(0, 242, 234, 0.5));">üìã</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Components</h2>
              <div class="text-sm text-gray">36 components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Reusable UI components like buttons, cards, modals, dialogs, and more interactive elements</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">UI Elements</span>
            <span class="badge badge-purple">Interactive</span>
            <span class="badge badge-pink">Reusable</span>
          </div>
          <a href="./components.html" class="btn">Browse Components</a>
        </div>

        <!-- Forms Section -->
        <div class="card card-interactive p-6 slide-up" data-component="forms" data-title="Forms" data-desc="Form templates, input components, validation patterns, and complete form solutions">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(255, 0, 110, 0.5));">üìù</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Forms</h2>
              <div class="text-sm text-gray">30 form components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Form templates, input components, validation patterns, and complete form solutions</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Inputs</span>
            <span class="badge badge-purple">Validation</span>
            <span class="badge badge-pink">Templates</span>
          </div>
          <a href="./forms.html" class="btn">Browse Forms</a>
        </div>

        <!-- Layouts Section -->
        <div class="card card-interactive p-6 slide-up" data-component="layouts" data-title="Layouts" data-desc="Page layout templates, grid systems, dashboard layouts, and responsive design patterns">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(147, 51, 234, 0.5));">üìê</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Layouts</h2>
              <div class="text-sm text-gray">30 layout patterns</div>
            </div>
          </div>
          <p class="text-gray mb-4">Page layout templates, grid systems, dashboard layouts, and responsive design patterns</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Grid</span>
            <span class="badge badge-purple">Responsive</span>
            <span class="badge badge-pink">Structure</span>
          </div>
          <a href="./layouts.html" class="btn">Browse Layouts</a>
        </div>

        <!-- Navigation Section -->
        <div class="card card-interactive p-6 slide-up" data-component="navigation" data-title="Navigation" data-desc="Navigation elements, menus, breadcrumbs, pagination controls, and user flow components">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(0, 242, 234, 0.5));">üß≠</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Navigation</h2>
              <div class="text-sm text-gray">31 navigation elements</div>
            </div>
          </div>
          <p class="text-gray mb-4">Navigation elements, menus, breadcrumbs, pagination controls, and user flow components</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Menus</span>
            <span class="badge badge-purple">Navigation</span>
            <span class="badge badge-pink">UX</span>
          </div>
          <a href="./navigation.html" class="btn">Browse Navigation</a>
        </div>

        <!-- Media Section -->
        <div class="card card-interactive p-6 slide-up" data-component="media" data-title="Media" data-desc="Media components including images, videos, galleries, audio players, and rich media elements">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(255, 0, 110, 0.5));">üñºÔ∏è</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Media</h2>
              <div class="text-sm text-gray">25 media components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Media components including images, videos, galleries, audio players, and rich media elements</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Images</span>
            <span class="badge badge-purple">Video</span>
            <span class="badge badge-pink">Audio</span>
          </div>
          <a href="./media.html" class="btn">Browse Media</a>
        </div>

        <!-- Utilities Section -->
        <div class="card card-interactive p-6 slide-up" data-component="utilities" data-title="Utilities" data-desc="Utility components and helpers including alerts, loaders, tooltips, and developer tools">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(147, 51, 234, 0.5));">üîß</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Utilities</h2>
              <div class="text-sm text-gray">29 utility components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Utility components and helpers including alerts, loaders, tooltips, and developer tools</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Helpers</span>
            <span class="badge badge-purple">Tooltips</span>
            <span class="badge badge-pink">Loaders</span>
          </div>
          <a href="./utilities.html" class="btn">Browse Utilities</a>
        </div>

        <!-- Patterns Section -->
        <div class="card card-interactive p-6 slide-up" data-component="patterns" data-title="Patterns" data-desc="Complete page patterns and full page implementations with comprehensive layout solutions">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(0, 242, 234, 0.5));">üß©</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Patterns</h2>
              <div class="text-sm text-gray">29 page patterns</div>
            </div>
          </div>
          <p class="text-gray mb-4">Complete page patterns and full page implementations with comprehensive layout solutions</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Pages</span>
            <span class="badge badge-purple">Complete</span>
            <span class="badge badge-pink">Templates</span>
          </div>
          <a href="./patterns.html" class="btn">Browse Patterns</a>
        </div>

        <!-- Advanced Components Section -->
        <div class="card card-interactive p-6 slide-up" data-component="advanced" data-title="Advanced Components" data-desc="Complex interactive components with advanced functionality and sophisticated features">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(255, 0, 110, 0.5));">‚öôÔ∏è</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Advanced Components</h2>
              <div class="text-sm text-gray">36 advanced components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Complex interactive components with advanced functionality and sophisticated features</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Advanced</span>
            <span class="badge badge-purple">Interactive</span>
            <span class="badge badge-pink">Complex</span>
          </div>
          <a href="./advanced.html" class="btn">Browse Advanced</a>
        </div>
        <!-- Musicians Section -->
        <div class="card card-interactive p-6 slide-up" data-component="musicians" data-title="Musicians" data-desc="Music-focused components including audio players, album displays, tour dates, merchandise, and fan engagement tools">
          <div class="flex items-center mb-3">
            <div class="text-3xl mr-4" style="filter: drop-shadow(0 0 10px rgba(142, 68, 173, 0.5));">üéµ</div>
            <div>
              <h2 class="text-2xl font-bold gradient-text">Musicians</h2>
              <div class="text-sm text-gray">50+ music components</div>
            </div>
          </div>
          <p class="text-gray mb-4">Music-focused components including audio players, album displays, tour dates, merchandise, and fan engagement tools</p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="badge badge-cyan">Audio</span>
            <span class="badge badge-purple">Music</span>
            <span class="badge badge-pink">Fan Engagement</span>
          </div>
          <a href="./musician.html" class="btn">Browse Musician Components</a>
        </div>
      </div>


      <!-- Back to top -->
      <div class="text-center">
        <a href="#top" class="btn btn-outline">Back to Top</a>
      </div>
    </div>
  </div>
  <footer class="text-center py-6 border-t border-gray-700">
    <div class="mb-2">
      <div class="copyright">¬© 2025 <span class="gradient-text font-bold">JaZeR Ventures</span>. All rights reserved.</div>
    </div>
    <div class="footer-tagline text-gray">
      Crafted with passion. Built with code.
    </div>
  </footer>

  <!-- Copy Toast Notification -->
  <div id="copyToast" class="copy-toast"></div>

  <!-- Pill Characteristics Engine -->
  <script src="./pill-characteristics-config.js"></script>

  <script>
    // Search functionality
    const searchInput = document.getElementById('componentSearch');
    const clearButton = document.getElementById('clearSearch');
    const componentCards = document.querySelectorAll('.card');
    const categoryGrid = document.getElementById('categoryGrid');

    searchInput.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase().trim();
      clearButton.classList.toggle('visible', searchTerm.length > 0);
      filterComponents();
    });

    clearButton.addEventListener('click', () => {
      searchInput.value = '';
      clearButton.classList.remove('visible');
      filterComponents();
      searchInput.focus();
    });

    componentCards.forEach((card, index) => {
      card.style.animationDelay = `${index * 0.05}s`;
      card.classList.add('scale-in');
    });

    function showCopyToast(message, isError = false) {
      clearTimeout(toastTimeout);
      const copyToast = document.getElementById('copyToast');
      copyToast.textContent = message;
      copyToast.style.borderColor = isError ? '#dc3545' : 'var(--jazer-cyan)';
      copyToast.style.boxShadow = isError ? '0 10px 30px rgba(220, 53, 69, 0.3)' : '0 10px 30px rgba(0, 242, 234, 0.3)';
      copyToast.classList.add('show');
      toastTimeout = setTimeout(() => copyToast.classList.remove('show'), 3000);
    }

    const FAVORITES_KEY = 'jazer-favorites';
    let favorites = JSON.parse(localStorage.getItem(FAVORITES_KEY) || '[]');
    let showingFavoritesOnly = false;

    function initFavorites() {
        document.querySelectorAll('.card').forEach(card => {
            const title = card.querySelector('h2')?.textContent || '';
            const desc = card.querySelector('p')?.textContent || '';
            card.setAttribute('data-title', title);
            card.setAttribute('data-desc', desc);
        });
        updateFavoritesCount();
    }

    function updateFavoritesCount() {
      const favoritesCount = document.getElementById('favoritesCount');
      if(favoritesCount) {
        favoritesCount.textContent = favorites.length;
      }
    }

    function filterComponents() {
        const searchTerm = searchInput.value.toLowerCase().trim();
        const activePills = PillFilter.activeFilters;

        let hasVisibleCards = false;

        componentCards.forEach(card => {
            const title = (card.dataset.title || '').toLowerCase();
            const description = (card.dataset.desc || '').toLowerCase();
            const componentId = card.dataset.component;

            const searchMatch = title.includes(searchTerm) || description.includes(searchTerm);

            let pillMatch = true;
            if (activePills.size > 0) {
                const componentPills = PillFilter.allCharacteristics.get(componentId);
                if (componentPills) {
                    pillMatch = [...activePills].every(filterPill => componentPills.some(p => p.label === filterPill));
                } else {
                    pillMatch = false;
                }
            }

            const isVisible = searchMatch && pillMatch;
            card.style.display = isVisible ? '' : 'none';
            if (isVisible) {
                card.classList.add('scale-in');
                hasVisibleCards = true;
            } else {
                card.classList.remove('scale-in');
            }
        });

        if (!hasVisibleCards) {
            // you can show a "no results" message here if you want
        }
    }
    
    const PillFilter = {
      activeFilters: new Set(),
      allCharacteristics: new Map(),
      characteristicCounts: new Map(),

      init() {
        const category = document.body.getAttribute('data-category') || 'home';

        const results = CharacteristicsEngine.processAllComponents(category);
        this.allCharacteristics = results;

        results.forEach((characteristics, componentId) => {
          const card = document.querySelector(`[data-component="${componentId}"]`);
          if (card) {
            CharacteristicsEngine.renderCharacteristics(card, characteristics);
            characteristics.forEach(char => {
              this.characteristicCounts.set(char.label, (this.characteristicCounts.get(char.label) || 0) + 1);
            });
          }
        });

        this.renderFilterBar();
        this.attachFilterEvents();
      },

      renderFilterBar() {
        const filterPillsContainer = document.getElementById('filterPills');
        if (!filterPillsContainer) return;
        const uniqueChars = Array.from(this.characteristicCounts.entries()).sort((a, b) => b[1] - a[1]).map(([label, count]) => ({ label, count }));
        uniqueChars.forEach(({ label, count }) => {
          const pill = document.createElement('div');
          pill.className = 'filter-pill';
          pill.setAttribute('data-characteristic', label);
          pill.innerHTML = `${label}<span class="pill-count">${count}</span>`;
          filterPillsContainer.appendChild(pill);
        });
      },

      attachFilterEvents() {
        const filterPills = document.querySelectorAll('.filter-pill');
        const clearAllBtn = document.getElementById('clearAllFilters');
        filterPills.forEach(pill => {
          pill.addEventListener('click', () => {
            const char = pill.getAttribute('data-characteristic');
            this.toggleFilter(char);
          });
        });
        if (clearAllBtn) {
          clearAllBtn.addEventListener('click', () => this.clearAllFilters());
        }
      },

      toggleFilter(characteristic) {
        const pill = document.querySelector(`.filter-pill[data-characteristic="${characteristic}"]`);
        if (this.activeFilters.has(characteristic)) {
          this.activeFilters.delete(characteristic);
          pill?.classList.remove('active');
        } else {
          this.activeFilters.add(characteristic);
          pill?.classList.add('active');
        }
        filterComponents();
        this.updateActiveFiltersDisplay();
      },

      updateActiveFiltersDisplay() {
        const activeFiltersContainer = document.getElementById('activeFilters');
        const activeFilterPillsContainer = document.getElementById('activeFilterPills');
        if (!activeFiltersContainer || !activeFilterPillsContainer) return;
        activeFilterPillsContainer.innerHTML = '';
        if (this.activeFilters.size === 0) {
          activeFiltersContainer.classList.remove('show');
          return;
        }
        activeFiltersContainer.classList.add('show');
        this.activeFilters.forEach(char => {
          const pill = document.createElement('div');
          pill.className = 'active-filter-pill';
          pill.innerHTML = `${char}<span class="remove">√ó</span>`;
          pill.addEventListener('click', () => this.toggleFilter(char));
          activeFilterPillsContainer.appendChild(pill);
        });
      },

      clearAllFilters() {
        this.activeFilters.clear();
        document.querySelectorAll('.filter-pill').forEach(pill => pill.classList.remove('active'));
        filterComponents();
        this.updateActiveFiltersDisplay();
      },
    };

    setTimeout(() => {
      if (typeof CharacteristicsEngine !== 'undefined') {
        PillFilter.init();
      } else {
        console.error('CharacteristicsEngine not loaded');
      }
    }, 100);

    const THEME_KEY = 'jazer-theme';
    const themeToggle = document.getElementById('themeToggle');
    const htmlElement = document.documentElement;

    function initTheme() {
      const savedTheme = localStorage.getItem(THEME_KEY) || 'dark';
      htmlElement.setAttribute('data-theme', savedTheme);
    }

    function toggleTheme() {
      const currentTheme = htmlElement.getAttribute('data-theme') || 'dark';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      htmlElement.setAttribute('data-theme', newTheme);
      localStorage.setItem(THEME_KEY, newTheme);
      themeToggle.style.animation = 'heartBeat 0.3s ease';
      setTimeout(() => themeToggle.style.animation = '', 300);
    }

    if (themeToggle) {
      themeToggle.addEventListener('click', toggleTheme);
    }

    initTheme();
    initFavorites();
  </script>
</body>
</html>
